"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3836],{4641:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"install-tools-by-scoop-on-windows","metadata":{"permalink":"/en/blog/install-tools-by-scoop-on-windows","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/07-10-install-tools-by-scoop-on-windows.md","source":"@site/blog/2022/07-10-install-tools-by-scoop-on-windows.md","title":"\u901a\u8fc7 scoop \u5728Windows \u4e0b\u5b89\u88c5\u5de5\u5177","description":"scoop \u662f\u4e00\u4e2aWindows \u4e0b\u7684\u5e94\u7528\u5305\u5b89\u88c5\u7ba1\u7406\u5de5\u5177\uff0c\u7c7b\u4f3c\u4e8e Linux \u4e0b\u7684 yum,apt \u548cMacOs \u4e0b\u7684 brew\u3002","date":"2022-07-10T14:38:00.000Z","formattedDate":"July 10, 2022","tags":[{"label":"tool","permalink":"/en/blog/tags/tool"},{"label":"windows","permalink":"/en/blog/tags/windows"},{"label":"scoop","permalink":"/en/blog/tags/scoop"}],"readingTime":1.6,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u901a\u8fc7 scoop \u5728Windows \u4e0b\u5b89\u88c5\u5de5\u5177","tags":["tool","windows","scoop"],"date":"2022-07-10T14:38","slug":"install-tools-by-scoop-on-windows","authors":"inhere"},"nextItem":{"title":"\u5b89\u88c5\u5e76\u914d\u7f6e docusaurus v2\u7ad9\u70b9","permalink":"/en/blog/install-and-config-docusaurus-v2.md"}},"content":"`scoop` \u662f\u4e00\u4e2aWindows \u4e0b\u7684\u5e94\u7528\u5305\u5b89\u88c5\u7ba1\u7406\u5de5\u5177\uff0c\u7c7b\u4f3c\u4e8e Linux \u4e0b\u7684 `yum,apt` \u548cMacOs \u4e0b\u7684 `brew`\u3002\\n\\n\u901a\u8fc7\u4f7f\u7528 scoop \u53ef\u4ee5\u65b9\u4fbf\u5feb\u901f\u7684\u5b89\u88c5\u5e38\u7528\u7684\u5f00\u53d1\u5de5\u5177\uff0c\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u4f8b\u5982 php, go, rust \u7b49\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n> Scoop github: https://github.com/ScoopInstaller/Scoop \\n\\n## \u5b89\u88c5Scoop\\n\\n```bash powershell\\niwr -useb get.scoop.sh | iex\\n```\\n\\n\u6dfb\u52a0bucket \u652f\u6301\u66f4\u591a\u5de5\u5177:\\n\\n```bash\\nscoop bucket add extras\\n```\\n\\n## \u57fa\u672c\u4f7f\u7528\\n\\n\u67e5\u770b\u53ef\u7528\u547d\u4ee4\uff1a\\n\\n```bash\\nscoop \\n```\\n\\n### \u641c\u7d22\u5de5\u5177\\n\\n```bash\\nscoop search git\\nscoop search php\\nscoop search go\\n```\\n\\n\u8f93\u51fa\u7c7b\u4f3c\uff1a\\n\\n```text\\ninhere@Inhere-win10 MINGW64 /f/work\\n$ scoop search php\\nResults from local buckets...\\n\\nName           Version              Source Binaries\\n----           -------              ------ --------\\nappengine-go   1.9.70               extras php_cli.ps1\\neclipse-php    2022-06              extras\\nphp-nts-xdebug 3.1.5-8.1            extras\\nphp-xdebug     3.1.5-8.1            extras\\nphpstorm       2022.1.3-221.5921.28 extras\\nxampp          8.1.6-0              extras php.exe\\nphp-nts        8.1.8                main\\nphp            8.1.8                main\\n```\\n\\n### \u5b89\u88c5\u5de5\u5177\\n\\n```bash\\nscoop install git\\n```\\n\\n### \u5378\u8f7d\u8f6f\u4ef6\\n\\n```bash\\nscoop uninstall git\\n```\\n\\n### \u66f4\u65b0scoop\u53ca\u8f6f\u4ef6\\n\\n```bash\\nscoop update #\u66f4\u65b0 scoop \u81ea\u5df1\\nscoop update git #\u66f4\u65b0 git\\n```\\n\\n### \u5b89\u88c5aria2\u52a0\u901f\u4e0b\u8f7d\\n\\nscoop\u5b89\u88c5aria2\u540e\uff0cscoop\u4f1a\u81ea\u52a8\u8c03\u7528aria2\u8fdb\u884c\u591a\u7ebf\u7a0b\u4e0b\u8f7d\u4ee5\u52a0\u901f\u4e0b\u8f7d\uff1a\\n\\n```bash\\nscoop install aria2\\n# \u5173\u95ed\u6bcf\u6b21\u8fd0\u884c\u65f6\u7684\u544a\u8b66\u63d0\u793a\\nscoop config aria2-warning-enabled false\\n```\\n\\n## \u5b89\u88c5\u5e38\u7528\u5de5\u5177\\n\\n### \u57fa\u7840\u5de5\u5177\\n\\n```bash\\nscoop search git\\n```\\n\\n### \u8bed\u8a00\u73af\u5883\\n\\n```bash\\nscoop search php\\nscoop search go\\nscoop search nodejs\\n```\\n\\n### \u5176\u4ed6\u5de5\u5177\\n\\n```bash\\nscoop install composer\\nscoop install yarn\\n```"},{"id":"install-and-config-docusaurus-v2.md","metadata":{"permalink":"/en/blog/install-and-config-docusaurus-v2.md","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/07-09-install-and-config-docusaurus-v2.md","source":"@site/blog/2022/07-09-install-and-config-docusaurus-v2.md","title":"\u5b89\u88c5\u5e76\u914d\u7f6e docusaurus v2\u7ad9\u70b9","description":"\u7b80\u5355\u8bb0\u5f55\u4e00\u4e0b\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528 Docusaurus \u6765\u6784\u5efa\u81ea\u5df1\u7684\u535a\u5ba2\u548c\u6587\u6863\u7ad9\u70b9\u3002","date":"2022-07-09T17:13:00.000Z","formattedDate":"July 9, 2022","tags":[{"label":"docusaurus","permalink":"/en/blog/tags/docusaurus"}],"readingTime":3.985,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u5b89\u88c5\u5e76\u914d\u7f6e docusaurus v2\u7ad9\u70b9","tags":["docusaurus"],"date":"2022-07-09T17:13","slug":"install-and-config-docusaurus-v2.md","authors":"inhere"},"prevItem":{"title":"\u901a\u8fc7 scoop \u5728Windows \u4e0b\u5b89\u88c5\u5de5\u5177","permalink":"/en/blog/install-tools-by-scoop-on-windows"},"nextItem":{"title":"cflag - wraps and extends Go flag build pertty CLI command","permalink":"/en/blog/gookit-goutil-cflag-intro"}},"content":"\u7b80\u5355\u8bb0\u5f55\u4e00\u4e0b\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528 Docusaurus \u6765\u6784\u5efa\u81ea\u5df1\u7684\u535a\u5ba2\u548c\u6587\u6863\u7ad9\u70b9\u3002\\n\\n> Docusaurus \u7684\u5b98\u65b9\u6587\u6863 https://docusaurus.io/zh-CN/docs\\n\\n\x3c!--truncate--\x3e\\n\\n## \u751f\u6210\u65b0\u7ad9\u70b9\\n\\n\u4f7f\u7528 `classic` \u6a21\u677f\u751f\u6210\u4e00\u4e2a\u65b0\u7684 Docusaurus \u7ad9\u70b9 `my-website`\u3002\\n\\n\u8fd0\u884c\u547d\u4ee4\u540e\uff0c\u7ecf\u5178\u6a21\u677f\u5c06\u81ea\u52a8\u6dfb\u52a0\u5230\u60a8\u7684\u9879\u76ee\u4e2d\\n\\n```bash npm2yarn\\nnpm init docusaurus@latest my-website classic\\n```\\n\\n\u8fdb\u5165\u751f\u6210\u7684\u7ad9\u70b9\u76ee\u5f55\\n\\n```bash\\ncd my-website\\n```\\n\\n\u542f\u52a8\u5e76\u8fd0\u884c\u5f00\u53d1\u670d\u52a1\u5668:\\n\\n```bash npm2yarn\\nnpm run start\\n```\\n\\n\u6253\u5f00\u9875\u9762 `docs/intro.md` \u5e76\u7f16\u8f91\u4e00\u4e9b\u884c,\u53ef\u4ee5\u770b\u5230\u8be5\u7ad9\u70b9\u4f1a\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u5e76\u663e\u793a\u6700\u65b0\u7684\u66f4\u6539\u3002\\n\\n## \u914d\u7f6e\u7ad9\u70b9\\n\\n\\n\u57fa\u7840\u914d\u7f6e\\n\\n```js title=\\"docusaurus.config.js\\"\\nconst config = {\\n  title: \\"Inhere\'s Site\\",\\n  tagline: \\"Inhere\'s site, blogs and project docs\\",\\n  url: \'https://inhere.github.io\',\\n  baseUrl: \'/\',\\n  trailingSlash: false,\\n\\n  organizationName: \'inhere\', // Usually your GitHub org/user name.\\n  projectName: \'inhere.github.io\', // Usually your repo name.\\n  deploymentBranch: \'gh-pages\',\\n\\n  // ...\\n}\\n```\\n\\n\u6587\u6863\u548c\u535a\u5ba2\u914d\u7f6e\uff1a\\n\\n```js title=\\"docusaurus.config.js\\"\\n  presets: [\\n    [\\n      \'classic\',\\n      /** @type {import(\'@docusaurus/preset-classic\').Options} */\\n      ({\\n        docs: {\\n          sidebarPath: require.resolve(\'./sidebars.js\'),\\n          // Please change this to your repo.\\n          // Remove this to remove the \\"edit this page\\" links.\\n          editUrl: \'https://github.com/inhere/inhere.github.io/tree/main/\',\\n        },\\n        blog: {\\n          showReadingTime: true,\\n          postsPerPage: 6,\\n          // routeBasePath: \'/\', // \u628a\u535a\u5ba2\u653e\u5728\u7ad9\u70b9\u6839\u90e8\\n          blogSidebarCount: 6, // \u9ed8\u8ba4 5\\n          // Remove this to remove the \\"edit this page\\" links.\\n          editUrl: \'https://github.com/inhere/inhere.github.io/tree/main/\',\\n        },\\n      }),\\n    ],\\n  ],\\n```\\n\\n:::info\\n\\n\u5b8c\u6574\u914d\u7f6e\u8bf7\u770b https://github.com/inhere/inhere.github.io/blob/main/docusaurus.config.js\\n\\n:::\\n\\n\\n### \u914d\u7f6e\u591a\u8bed\u8a00\\n\\n```js title=\\"docusaurus.config.js\\"\\ni18n: {\\n    defaultLocale: \'zh-CN\',\\n    locales: [ \\"zh-CN\\", \'en\'],\\n    localeConfigs: {\\n      en: {\\n        htmlLang: \'en-GB\',\\n      },\\n    },\\n  },\\n```\\n\\n\\n\u8fd9\u91cc\u6211\u662f\u4ee5 `zh-CN` \u4e3a\u4e3b\uff0c\u751f\u6210 `en` \u7ffb\u8bd1\u6587\u6863\\n\\n```bash\\nnpm run write-translations -- --locale en\\n```\\n\\n\\n\\n## GitHab Pages\\n\\n\u53c2\u8003\u5b98\u65b9\u6587\u6863\u6dfb\u52a0 GitHab Actions \u5982\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd9\u6837\u5728\u6bcf\u6b21\u63a8\u9001\u5230\u4ed3\u5e93\u65f6\u5c31\u4f1a\u89e6\u53d1\u81ea\u52a8\u6784\u5efa\uff0c\\n\u5e76\u4e14\u4f1a\u81ea\u52a8\u90e8\u7f72\u6784\u5efa\u7684\u9759\u6001\u6587\u4ef6\u5230 `gh-pages` \u5206\u652f\u3002\\n\\n```text\\n.github/workflows/deploy.yml\\n.github/workflows/test-deploy.yml\\n```\\n\\n## \u6dfb\u52a0\u5e38\u7528\u63d2\u4ef6\\n\\n\\n### npm2yarn\\n\\n\u53ef\u4ee5\u540c\u65f6\u663e\u793a npm \u548c Yarn \u7684 CLI \u547d\u4ee4\u3002\\n\u7136\u540e\u8981\u4f7f\u7528\u5b83\uff0c\u53ea\u9700\u5728\u4ee3\u7801\u5757\u4e2d\u6dfb\u52a0 `npm2yarn` \u952e\uff1a\\n\\n\\n```bash npm2yarn\\nnpm install @docusaurus/remark-plugin-npm2yarn\\n```\\n\\n\u914d\u7f6e\u63d2\u4ef6\uff1a\\n\\n```js title=\\"docusaurus.config.js\\"\\nmodule.exports = {\\n  // ...\\n  presets: [\\n    [\\n      \'@docusaurus/preset-classic\',\\n      {\\n        docs: {\\n          // highlight-start\\n          remarkPlugins: [\\n            [require(\'@docusaurus/remark-plugin-npm2yarn\'), {sync: true}],\\n          ],\\n          // highlight-end\\n        },\\n        pages: {\\n          // highlight-next-line\\n          remarkPlugins: [require(\'@docusaurus/remark-plugin-npm2yarn\')],\\n        },\\n        blog: {\\n          // ...\\n        },\\n      },\\n    ],\\n  ],\\n};\\n```\\n\\n### docusaurus-search-local\\n\\n\\n\u7528\u4e8e Docusaurus v2 \u7684\u652f\u6301\u79bb\u7ebf\u672c\u5730\u641c\u7d22\u7684\u63d2\u4ef6\\n\\n> \u63d2\u4ef6\u4ed3\u5e93 https://github.com/easyops-cn/docusaurus-search-local\\n\\n\u5b89\u88c5\u63d2\u4ef6\uff1a\\n\\n```bash npm2yarn\\nnpm install --save @easyops-cn/docusaurus-search-local\\n```\\n\\n\u914d\u7f6e\u63d2\u4ef6\uff1a\\n\\n```js title=\\"docusaurus.config.js\\"\\nmodule.exports = {\\n  // ... Your other configurations.\\n  themes: [\\n    // ... Your other themes.\\n    [\\n      // highlight-start\\n      require.resolve(\\"@easyops-cn/docusaurus-search-local\\"),\\n      {\\n        // ... Your options.\\n        // `hashed` is recommended as long-term-cache of index file is possible.\\n        hashed: true,\\n        // For Docs using Chinese, The is recommended to set to:\\n        language: [\\"en\\", \\"zh\\"],\\n      },\\n      // highlight-end\\n    ],\\n  ],\\n};\\n```\\n\\n\u7c7b\u4f3c\u63d2\u4ef6\uff1a\\n\\n- https://github.com/praveenn77/docusaurus-lunr-search\\n- https://github.com/cmfcmf/docusaurus-search-local\\n\\n\\n### openapi-docs\\n\\n> GitHub https://github.com/PaloAltoNetworks/docusaurus-openapi-docs\\n\\nInstallation\\n\\nPlugin:\\n\\n```bash\\nyarn add docusaurus-plugin-openapi-docs\\n```\\n\\nTheme:\\n\\n```bash\\nyarn add docusaurus-theme-openapi-docs\\n```\\n\\n## \u4e00\u4e9b\u4f7f\u7528\u8bf4\u660e\\n\\n\u4e00\u4e9b\u6709\u7528\u7684\u4f7f\u7528\u8bf4\u660e\\n\\n### \u5f3a\u8c03\u63d0\u793a\\n\\n```markdown\\n:::note\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n:::tip\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n:::info\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n:::caution\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n:::danger\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n```\\n\\n\u6548\u679c\u5982\u4e0b\uff1a\\n\\n\\n:::info\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n:::caution\\n\\n\u4e00\u4e9b\u5305\u542b _Markdown_ `\u8bed\u6cd5` \u7684 **\u5185\u5bb9**\u3002\\n\\n:::\\n\\n\\n### \u4ee3\u7801\u884c\u9ad8\u4eae\\n\\n\u4f60\u53ef\u4ee5\u7528 `highlight-next-line`\u3001`highlight-start`\u3001`highlight-end` \u7b49\u6ce8\u91ca\u6765\u9009\u62e9\u8981\u9ad8\u4eae\u7684\u884c\u3002\\n\\n\u6548\u679c\u5982\u4e0b\uff1a\\n\\n```js\\nfunction HighlightSomeText(highlight) {\\n  if (highlight) {\\n    // highlight-next-line\\n    return \'\u8fd9\u884c\u88ab\u9ad8\u4eae\u4e86\uff01\';\\n  }\\n\\n  return \'\u8fd9\u91cc\u4e0d\u4f1a\';\\n}\\n\\nfunction HighlightMoreText(highlight) {\\n  // highlight-start\\n  if (highlight) {\\n    return \'\u8fd9\u5757\u88ab\u9ad8\u4eae\u4e86\uff01\';\\n  }\\n  // highlight-end\\n\\n  return \'\u8fd9\u91cc\u4e0d\u4f1a\';\\n}\\n```\\n\\n> \u539f\u6587\u6863 https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#line-highlighting"},{"id":"gookit-goutil-cflag-intro","metadata":{"permalink":"/en/blog/gookit-goutil-cflag-intro","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/07-09-gookit-goutil-cflag-usage.md","source":"@site/i18n/en/docusaurus-plugin-content-blog/2022/07-09-gookit-goutil-cflag-usage.md","title":"cflag - wraps and extends Go flag build pertty CLI command","description":"cflag - wraps and extends Go flag build pertty CLI command","date":"2022-07-09T16:00:00.000Z","formattedDate":"July 9, 2022","tags":[{"label":"golang","permalink":"/en/blog/tags/golang"},{"label":"gookit","permalink":"/en/blog/tags/gookit"},{"label":"flag","permalink":"/en/blog/tags/flag"},{"label":"cli","permalink":"/en/blog/tags/cli"},{"label":"console","permalink":"/en/blog/tags/console"}],"readingTime":3.485,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"cflag - wraps and extends Go flag build pertty CLI command","tags":["golang","gookit","flag","cli","console"],"date":"2022-07-09T16:00","slug":"gookit-goutil-cflag-intro","authors":"inhere"},"prevItem":{"title":"\u5b89\u88c5\u5e76\u914d\u7f6e docusaurus v2\u7ad9\u70b9","permalink":"/en/blog/install-and-config-docusaurus-v2.md"},"nextItem":{"title":"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7","permalink":"/en/blog/gookit-gitw-intro"}},"content":"`cflag` - wraps and extends Go flag build pertty CLI command\\n\\n\x3c!--truncate--\x3e\\n\\n## Use Go flag\\n\\nGo `flag` is a package built into Go, and it is very easy to build a command application using the `flag` package.\\n\\n```go title=\\"cflag/_example/rawflag.go\\"\\npackage main\\n\\nimport (\\n    \\"flag\\"\\n    \\"os\\"\\n\\n    \\"github.com/gookit/goutil/cliutil\\"\\n    \\"github.com/gookit/goutil/dump\\"\\n)\\n\\nvar opts1 = struct {\\n    age  int\\n    name string\\n    str1 string\\n    lOpt string\\n}{}\\n\\n// go run ./_example/rawflag.go\\n// go run ./cflag/_example/rawflag.go -h\\nfunc main() {\\n    c := flag.NewFlagSet(\\"mycmd\\", flag.ContinueOnError)\\n\\n    c.IntVar(&opts1.age, \\"age\\", 0, \\"this is a int option\\")\\n    c.StringVar(&opts1.name, \\"name\\", \\"\\", \\"this is a string option and required\\")\\n    c.StringVar(&opts1.str1, \\"str1\\", \\"def-val\\", \\"this is a string option with default value\\")\\n    c.StringVar(&opts1.lOpt, \\"long-opt\\", \\"\\", \\"this is a string option with shorts\\")\\n\\n    err := c.Parse(os.Args[1:])\\n    if err != nil {\\n        if err != flag.ErrHelp {\\n            cliutil.Errorln(\\"Error:\\", err.Error())\\n        }\\n        return\\n    }\\n\\n    // after parse, do something\\n    handleFunc1()\\n}\\n\\nfunc handleFunc1() {\\n    cliutil.Infoln(\\"after parse, do something\\")\\n\\n    dump.P(opts1)\\n}\\n```\\n\\n### Show help\\n\\n```bash\\ngo run ./cflag/_example/rawflag.go -h\\n```\\n\\n![rawflag-help](https://raw.githubusercontent.com/gookit/goutil/master/cflag/_example/rawflag-help.png)\\n\\n### Some problems\\n\\nIt\'s a package built into Go, and it\'s very simple to use. But there are some problems:\\n\\n- Adding short options to options is not supported\\n- Does not support parsing subsequent parameter information\\n- Can\'t check if option is empty\\n- Rendering help information is very rudimentary\\n\\n## Use cflag\\n\\n\\n`cflag` - Wraps and extends go `flag.FlagSet` to build simple command line applications\\n\\n- As easy as Go `flag` to use\\n- Supports auto-rendering of pretty help messages\\n- Allows adding short options to flag options, and multiples\\n- Allows binding named parameters\\n- Allows setting arguments or options as required\\n- Allows setting validators for arguments or options\\n\\n\\n### Install\\n\\n```shell\\ngo get github.com/gookit/goutil/cflag\\n```\\n\\n### Usage example\\n\\n`cflag` has the same binding option information as Go `flag`. At the same time, some additional information has been added, such as version, description, etc.\\n\\n```go title=\\"cflag/_example/cmd.go\\"\\npackage main\\n\\nimport (\\n\\t\\"os\\"\\n\\n\\t\\"github.com/gookit/goutil/cflag\\"\\n\\t\\"github.com/gookit/goutil/cliutil\\"\\n)\\n\\nvar opts = struct {\\n\\tage  int\\n\\tname string\\n\\tstr1 string\\n\\tlOpt string\\n\\tbol  bool\\n}{}\\n\\n// go run ./_example/cmd.go\\n// go run ./cflag/_example/cmd.go -h\\n// go run ./cflag/_example/cmd.go --name inhere -a 12 --lo val ab cd\\nfunc main() {\\n\\tc := cflag.New(func(c *cflag.CFlags) {\\n\\t\\tc.Desc = \\"this is a demo command\\"\\n\\t\\tc.Version = \\"0.5.1\\"\\n\\t})\\n\\tc.IntVar(&opts.age, \\"age\\", 0, \\"this is a int option;;a\\")\\n\\tc.StringVar(&opts.name, \\"name\\", \\"\\", \\"this is a string option and required;true\\")\\n\\tc.StringVar(&opts.str1, \\"str1\\", \\"def-val\\", \\"this is a string option with default value;;s\\")\\n\\tc.StringVar(&opts.lOpt, \\"long-opt\\", \\"\\", \\"this is a string option with shorts;;lo\\")\\n\\n    // highlight-start\\n\\tc.AddArg(\\"arg1\\", \\"this is arg1\\", true, nil)\\n\\tc.AddArg(\\"arg2\\", \\"this is arg2\\", true, nil)\\n    // highlight-end\\n\\n\\t// add handle func\\n\\tc.Func = handleFunc\\n\\n\\tc.MustParse(os.Args[1:])\\n}\\n\\nfunc handleFunc(c *cflag.CFlags) error {\\n\\tcliutil.Magentaln(\\"hello, this is command:\\", c.Name())\\n\\tcliutil.Infoln(\\"after parse, do something ...\\")\\n\\n\\tcliutil.Yellowln(\\"option values:\\")\\n\\tcliutil.Infoln(\\"opts.age =\\", opts.age)\\n\\tcliutil.Infoln(\\"opts.name =\\", opts.name)\\n\\tcliutil.Infoln(\\"opts.str1 =\\", opts.str1)\\n\\tcliutil.Infoln(\\"opts.lOpt =\\", opts.lOpt)\\n\\n    // highlight-start\\n\\tcliutil.Yellowln(\\"argument values:\\")\\n\\tcliutil.Infoln(\\"arg1 =\\", c.Arg(\\"arg1\\").String())\\n\\tcliutil.Infoln(\\"arg2 =\\", c.Arg(\\"arg2\\").String())\\n    // highlight-end\\n\\n\\tcliutil.Infoln(\\"\\\\nremain args =\\", c.RemainArgs())\\n\\n\\treturn nil\\n}\\n```\\n\\n### Set required and shortcuts\\n\\nOption can be set as required(`required`), and supports setting **short option** name.\\n\\n> TIPs: Implement `required` and `shorts` by extending `usage` that parses options\\n\\n\\n#### `usage` format\\n\\n- Defatul: `desc`\\n- Foramt 1: `desc;required`\\n- Foramt 2: `desc;required;shorts`\\n- `required`: A boolean string. Mark option is required\\n  - True: `true,on,yes`\\n  - False: `false,off,no,\'\'`\\n- `shorts`: Shortcut names for options, multiple values are allowed, separated by commas `,`\\n\\n**Examples**:\\n\\n```go\\n    // set option \'name\' is required\\n\\tc.StringVar(&opts.name, \\"name\\", \\"\\", \\"this is a string option and required;true\\")\\n    // set option \'str1\' shorts: s\\n\\tc.StringVar(&opts.str1, \\"str1\\", \\"def-val\\", \\"this is a string option with default value;;s\\")\\n```\\n\\n### \u7ed1\u5b9a\u548c\u83b7\u53d6\u53c2\u6570\\n\\n**Binding arguments**\\n\\n```go\\n\\tc.AddArg(\\"arg1\\", \\"this is arg1\\", true, nil)\\n\\tc.AddArg(\\"arg2\\", \\"this is arg2\\", true, nil)\\n```\\n\\n**Get arguments by name**\\n\\n```go\\n\\tcliutil.Infoln(\\"arg1 =\\", c.Arg(\\"arg1\\").String())\\n\\tcliutil.Infoln(\\"arg2 =\\", c.Arg(\\"arg2\\").Int())\\n```\\n\\n### Show help\\n\\n```shell\\ngo run ./cflag/_example/cmd.go -h\\n```\\n\\n**Output**:\\n\\n![cmd-help](https://raw.githubusercontent.com/gookit/goutil/master/cflag/_example/cmd-help.png)\\n\\n### Run command\\n\\n```shell\\ngo run ./cflag/_example/cmd.go --name inhere -a 12 --lo val ab cd\\ngo run ./cflag/_example/cmd.go --name inhere -a 12 --lo val ab cd de fg\\n```\\n\\n**Output**:\\n\\n![cmd-run](https://raw.githubusercontent.com/gookit/goutil/master/cflag/_example/cmd-run.png)\\n\\n### `required` check\\n\\n```shell\\ngo run ./cflag/_example/cmd.go -a 22\\ngo run ./cflag/_example/cmd.go --name inhere\\n```\\n\\n**Output**:\\n\\n![cmd-required.png](https://raw.githubusercontent.com/gookit/goutil/master/cflag/_example/cmd-required.png)\\n\\n## GitHub\\n\\n- [gookit/goutil/cflag](https://github.com/gookit/goutil/tree/master/cflag)"},{"id":"gookit-gitw-intro","metadata":{"permalink":"/en/blog/gookit-gitw-intro","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/07-06-gookit-gitw-intro.md","source":"@site/i18n/en/docusaurus-plugin-content-blog/2022/07-06-gookit-gitw-intro.md","title":"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7","description":"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7\uff0c\u83b7\u53d6 repo \u4fe1\u606f\u548c\u4e00\u4e9b git \u547d\u4ee4\u5de5\u5177\u3002","date":"2022-07-06T21:00:00.000Z","formattedDate":"July 6, 2022","tags":[{"label":"golang","permalink":"/en/blog/tags/golang"},{"label":"gookit","permalink":"/en/blog/tags/gookit"},{"label":"git","permalink":"/en/blog/tags/git"}],"readingTime":1.095,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7","tags":["golang","gookit","git"],"date":"2022-07-06T21:00","slug":"gookit-gitw-intro","authors":"inhere"},"prevItem":{"title":"cflag - wraps and extends Go flag build pertty CLI command","permalink":"/en/blog/gookit-goutil-cflag-intro"},"nextItem":{"title":"slog - Lightweight, configurable, extensible Go logging library","permalink":"/en/blog/gookit-slog-intro"}},"content":"`gitw` - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7\uff0c\u83b7\u53d6 repo \u4fe1\u606f\u548c\u4e00\u4e9b git \u547d\u4ee4\u5de5\u5177\u3002\\n\\n- \u5305\u88c5\u672c\u5730 `git` \u547d\u4ee4\\n- \u5feb\u901f\u8fd0\u884c `git` \u547d\u4ee4\\n- \u5feb\u901f\u67e5\u8be2\u5b58\u50a8\u5e93\u4fe1\u606f\\n  - \u83b7\u53d6 remote, branch \u8be6\u7ec6\u4fe1\u606f\\n- \u901a\u8fc7 `git log` \u5feb\u901f\u751f\u6210\u7248\u672c\u53d8\u66f4\u65e5\u5fd7\\n  - \u5141\u8bb8\u81ea\u5b9a\u4e49\u751f\u6210\u914d\u7f6e\\n  - \u5141\u8bb8\u81ea\u5b9a\u4e49\u751f\u6210\u8fc7\u6ee4\u3001\u6837\u5f0f\u7b49\\n  - \u53ef\u4ee5\u76f4\u63a5\u5728 GitHub Actions \u4e2d\u4f7f\u7528\\n\\n\x3c!--truncate--\x3e\\n\\n> Github https://github.com/gookit/gitw\\n\\n## \u751f\u6210\u53d8\u66f4\u65e5\u5fd7\\n\\n\u53ef\u4ee5\u901a\u8fc7 `gitw/chlog` \u5305\u5feb\u901f\u751f\u6210\u53d8\u66f4\u65e5\u5fd7\u3002\\n\\n\\n### \u5b89\u88c5\\n\\n```shell\\ngo install github.com/gookit/gitw/cmd/chlog@latest\\n```\\n\\n### \u4f7f\u7528\\n\\n**\u751f\u6210\u53d8\u66f4\u65e5\u5fd7:**:\\n\\n```shell\\nchlog prev last\\nchlog last head\\nchlog -c .github/changelog.yml last head\\n```\\n\\n**Outputs**:\\n\\n![chlog-demo](https://raw.githubusercontent.com/gookit/gitw/main/_examples/images/chlog-demo.png)\\n\\n\\n## \u4ed3\u5e93\u4fe1\u606f\\n\\n\u53ef\u4ee5\u901a\u8fc7 gitw \u5728\u672c\u5730\u5feb\u901f\u83b7\u53d6 git \u5b58\u50a8\u5e93\u4fe1\u606f\u3002\\n\\n```go\\nrepo := gitw.NewRepo(\\"/path/to/my-repo\\")\\n```\\n\\n### Branch \u4fe1\u606f\\n\\n```go\\nbrInfo := repo.CurBranchInfo()\\n\\ndump.Println(brInfo)\\n```\\n\\n**Output**:\\n\\n![one-remote-info](https://raw.githubusercontent.com/gookit/gitw/main/_examples/images/one-branch-info.png)\\n\\n## \u66f4\u591a\\n\\n\u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u770bREADME\u548cgodoc\\n\\n> Github https://github.com/gookit/gitw"},{"id":"gookit-slog-intro","metadata":{"permalink":"/en/blog/gookit-slog-intro","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/06-16-gookit-slog-intro.md","source":"@site/i18n/en/docusaurus-plugin-content-blog/2022/06-16-gookit-slog-intro.md","title":"slog - Lightweight, configurable, extensible Go logging library","description":"slog - a lightweight, configurable, extensible Go logging library","date":"2022-06-16T21:00:00.000Z","formattedDate":"June 16, 2022","tags":[{"label":"golang","permalink":"/en/blog/tags/golang"},{"label":"gookit","permalink":"/en/blog/tags/gookit"},{"label":"log","permalink":"/en/blog/tags/log"},{"label":"logger","permalink":"/en/blog/tags/logger"}],"readingTime":1.925,"hasTruncateMarker":false,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"slog - Lightweight, configurable, extensible Go logging library","tags":["golang","gookit","log","logger"],"date":"2022-06-16T21:00","slug":"gookit-slog-intro","authors":"inhere"},"prevItem":{"title":"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7","permalink":"/en/blog/gookit-gitw-intro"},"nextItem":{"title":"\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168","permalink":"/en/blog/2021/08/09/learn-bash-completion"}},"content":"`slog` - a lightweight, configurable, extensible Go logging library\\n\\n![image](https://raw.githubusercontent.com/gookit/slog/master/\\\\_example/images/console-log-all-level.png)\\n\\n## Features\\n\\n* Simple, directly available without configuration\\n* Support common log level processing.\\n   * eg: `trace` `debug` `info` `notice` `warn` `error` `fatal` `panic`\\n* Support any extension of `Handler` `Formatter` as needed\\n* Supports adding multiple `Handler` log processing at the same time, outputting logs to different places\\n* Support to custom log message `Formatter`\\n   * Built-in `json` `text` two log record formatting `Formatter`\\n* Support to custom build log messages `Handler`\\n   * The built-in `handler.Config` `handler.Builder` can easily and quickly build the desired log handler\\n* Has built-in common log write handler program\\n   * `console` output logs to the console, supports color output\\n   * `writer` output logs to the specified `io.Writer`\\n   * `file` output log to the specified file, optionally enable `buffer` to buffer writes\\n   * `simple` output log to the specified file, write directly to the file without buffering\\n   * `rotate_file` outputs logs to the specified file, and supports splitting files by time and size, and `buffer` buffered writing is enabled by default\\n   * See ./handler folder for more built-in implementations\\n\\n### Output logs to file\\n\\n* Support enabling `buffer` for log writing\\n* Support splitting log files by `time` and `size`\\n* Support configuration to compress log files via `gzip`\\n* Support clean old log files by `BackupNum` `BackupTime`\\n\\n## Git repository\\n\\n* Github: https://github.com/gookit/slog\\n* Gitee: https://gitee.com/gookit/slog\\n\\n## Install\\n\\n```bash\\ngo get github.com/gookit/slog\\n```\\n\\n## Quick start\\n\\n```go\\npackage main\\n\\nimport (\\n\\t\\"github.com/gookit/slog\\"\\n)\\n\\nfunc main() {\\n\\tslog.Trace(\\"this is a log message\\")\\n\\tslog.Debug(\\"this is a log message\\")\\n\\tslog.Info(\\"this is a log message\\")\\n\\tslog.Notice(\\"this is a log message\\")\\n\\tslog.Warn(\\"this is a log message\\")\\n\\tslog.Error(\\"this is a log message\\")\\n\\tslog.Fatal(\\"this is a log message\\")\\n}\\n```\\n\\n**output preview:**\\n\\n![image](https://raw.githubusercontent.com/gookit/slog/master/\\\\_example/images/console-log-all-level.png)\\n\\n## Logs to file\\n\\nUsing `slog` to output logs to files is very convenient, and supports multiple files, splitting by time, etc.\\n\\n```go\\npackage main\\n\\nimport (\\n\\t\\"github.com/gookit/slog\\"\\n\\t\\"github.com/gookit/slog/handler\\"\\n\\t\\"github.com/gookit/slog/rotatefile\\"\\n)\\n\\nfunc main() {\\n\\tdefer slog.MustFlush()\\n\\n\\t// DangerLevels contains: slog.PanicLevel, slog.ErrorLevel, slog.WarnLevel\\n\\th1 := handler.MustRotateFile(\\"/tmp/logs/app_error.log\\", rotatefile.EveryHour,\\n\\t\\thandler.WithLogLevels(slog.DangerLevels),\\n\\t)\\n\\n\\t// NormalLevels contains: slog.InfoLevel, slog.NoticeLevel, slog.DebugLevel, slog.TraceLevel\\n\\th2 := handler.MustRotateFile(\\"/tmp/logs/app_info.log\\", rotatefile.EveryHour,\\n\\t\\thandler.WithLogLevels(slog.NormalLevels),\\n\\t)\\n\\n\\tslog.PushHandler(h1)\\n\\tslog.PushHandler(h2)\\n\\n\\t// add logs\\n\\tslog.Info(\\"info message text\\")\\n\\tslog.Error(\\"error message text\\")\\n}\\n```\\n\\nSee logs dir:\\n\\n```bash\\n$ ls /tmp/logs\\napp_error.log\\napp_info.log\\n```\\n\\n## More usage\\n\\n> More usage please see [README](https://github.com/gookit/slog/blob/master/README.zh-CN.md)"},{"id":"/2021/08/09/learn-bash-completion","metadata":{"permalink":"/en/blog/2021/08/09/learn-bash-completion","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2021/08-09-learn-bash-completion.md","source":"@site/blog/2021/08-09-learn-bash-completion.md","title":"\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168","description":"\u7b80\u5355\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168","date":"2021-08-09T11:24:00.000Z","formattedDate":"August 9, 2021","tags":[{"label":"shell","permalink":"/en/blog/tags/shell"},{"label":"bash","permalink":"/en/blog/tags/bash"},{"label":"linux","permalink":"/en/blog/tags/linux"},{"label":"completion","permalink":"/en/blog/tags/completion"}],"readingTime":8.145,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168","authors":"inhere","tags":["shell","bash","linux","completion"],"date":"2021-08-09T11:24"},"prevItem":{"title":"slog - Lightweight, configurable, extensible Go logging library","permalink":"/en/blog/gookit-slog-intro"},"nextItem":{"title":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883","permalink":"/en/blog/2021/08/08/quick-config-bashrc"}},"content":"\u7b80\u5355\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168\\n\\n\x3c!--truncate--\x3e\\n\\n> \u4e0b\u9762\u7684\u793a\u4f8b\u4f7f\u7528 `__my_completion` \u4f5c\u4e3a\u547d\u4ee4\u884c\u5e94\u7528 `myapp`(eg: git) \u7684\u8865\u5168\u51fd\u6570\\n\\n## \u76f8\u5173\u51fd\u6570\u8bf4\u660e\\n\\n### complete \u51fd\u6570\\n\\n`complete` \u6307\u5b9a\u547d\u4ee4\u7684\u8865\u5168\u51fd\u6570\\n\\n\u81ea\u5b9a\u4e49\u8865\u5168\u65f6\u8c03\u7528complete\u547d\u4ee4\u6765\u5b8c\u6210\uff0ccomplete\u901a\u8fc7\u9009\u9879\u63d0\u4f9b\u4e86\u591a\u79cd\u8865\u5168\u7684\u9014\u5f84\u548c\u65b9\u5f0f\uff0c\u8fd9\u4e9b\u9009\u9879\u662f\u6309\u7167\u5148\u540e\u6b21\u5e8f\u8d77\u4f5c\u7528\u7684\uff1a`-A -G -W -F -C -X -P -S -o`\\n\\n\u4e00\u4e9b\u9009\u9879\u8bf4\u660e:\\n\\n- `-o STRING` \u989d\u5916\u8bbe\u7f6e\u8865\u5168\u9009\u9879\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u591a\u6b21\uff1b\u9009\u9879\u503c\u53ef\u4ee5\u4e3a\uff1a\\n  - `bashdefault` \u5982\u679c\u6ca1\u6709\u751f\u6210\u8865\u5168\u6761\u76ee\uff0c\u5c31\u4f7f\u7528bash\u9ed8\u8ba4\u7684\u5176\u5b83\u8865\u5168\\n  - `default`\\t\u5982\u679c\u6ca1\u6709\u751f\u6210\u8865\u5168\u6761\u76ee\uff0c\u5c31\u4f7f\u7528\u201creadline\u201d\u9ed8\u8ba4\u7684\u6587\u4ef6\u540d\u8865\u5168\u3002\\n  - `dirnames`\\t\u5982\u679c\u6ca1\u6709\u751f\u6210\u8865\u5168\u6761\u76ee\uff0c\u5c31\u8fdb\u884c\u76ee\u5f55\u540d\u8865\u5168\u3002\\n  - `filenames`\\t\u544a\u8bc9\u201creadline\u201d\u751f\u6210\u6587\u4ef6\u540d\uff0c\u4ee5\u4fbf\u8fdb\u884c\u4e0e\u6587\u4ef6\u540d\u76f8\u5173\u7684\u5904\u7406\uff0c\u4f8b\u5982\u5728\u76ee\u5f55\u540d\u540e\u9762\u52a0\u4e0a\u659c\u6760\uff0c\u5f15\u7528\u7279\u6b8a\u5b57\u7b26\uff0c\u53bb\u6389\u884c\u5c3e\u7684\u7a7a\u683c\uff0c\u76ee\u7684\u662f\u7528\u4e8eshell\u51fd\u6570\u3002\\n  - `noquote`\\t\u544a\u8bc9\u201creadline\u201d\u4e0d\u5f15\u7528\u6587\u4ef6\u540d\uff0c\u9ed8\u8ba4\u4f1a\u8fdb\u884c\u5f15\u7528\u3002\\n  - `nospace`\\t\u544a\u8bc9\u201creadline\u201d\u5728\u8865\u5168\u7684\u540d\u79f0\u540e\u4e0d\u6dfb\u52a0\u7a7a\u683c\uff0c\u9ed8\u8ba4\u6dfb\u52a0\u7a7a\u683c\u3002\\n  - `plusdirs`\\t\u751f\u6210\u8865\u5168\u6761\u76ee\u4e4b\u540e\uff0c\u8fd8\u4f1a\u8fdb\u884c\u76ee\u5f55\u540d\u8865\u5168\u5e76\u628a\u7ed3\u679c\u6dfb\u52a0\u5230\u5176\u5b83\u52a8\u4f5c\u5f97\u5230\u7684\u7ed3\u679c\u4e2d\u3002\\n- `-A STRING` action\uff0c\u6307\u5b9a\u52a8\u4f5c\uff0c\u8fd9\u4e2a\u6709\u56fa\u5b9a\u7684\u51e0\u4e2a\u53ef\u9009\u3002\u9009\u9879\u503c\u53ef\u4ee5\u4e3a\uff1a\\n  - `alias`\\t\u522b\u540d\uff0c\u540c\u9009\u9879  `-a`\u3002\\n  - `arrayvar`\\t\u6570\u7ec4\u53d8\u91cf\u540d\u3002\\n  - `binding`\\t\u201creadline\u201d\u952e\u7ed1\u5b9a\u540d\u3002\\n  - `builtin`\\tshell\u5185\u5efa\u547d\u4ee4\u540d\uff0c\u540c\u9009\u9879 `-b`\u3002\\n  - `command`\\t\u547d\u4ee4\u540d\uff0c\u540c\u9009\u9879 `-c`\u3002\\n  - `directory`\\t\u76ee\u5f55\u540d\uff0c\u540c\u9009\u9879 `-d`\u3002\\n  - `disabled`\\t\u4e0d\u53ef\u7528\u7684shell\u5185\u5efa\u547d\u4ee4\u540d\u3002\\n  - `enabled`\\t\u53ef\u7528\u7684shell\u5185\u5efa\u547d\u4ee4\u540d\u3002\\n  - `export`\\t\u5bfc\u51fa\u7684shell\u53d8\u91cf\u540d\uff0c\u540c\u9009\u9879`-e`\u3002\\n  - `file`\\t\u6587\u4ef6\u540d\uff0c\u540c\u9009\u9879 `-f`\u3002\\n  - `function`\\tshell\u51fd\u6570\u540d\u3002\\n  - `group`\\t\u7ec4\u540d\uff0c\u540c\u9009\u9879 `-g`\u3002\\n  - `helptopic`\\t\u5185\u5efa\u547d\u4ee4help\u652f\u6301\u7684\u5e2e\u52a9\u4e3b\u9898\u3002\\n  - `hostname`\\t\u4e3b\u673a\u540d\uff0c\u4eceshell\u73af\u5883\u53d8\u91cfHOSTFILE\u4e2d\u83b7\u53d6\u3002\\n  - `job`\\t\u4f5c\u4e1a\u540d\uff0c\u540c\u9009\u9879 `-j`\u3002\\n  - `keyword`\\tshell\u4fdd\u7559\u5b57\uff0c\u540c\u9009\u9879 `-k`\u3002\\n  - `running`\\t\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\u540d\u3002\\n  - `service`\\t\u670d\u52a1\u540d\uff0c\u540c\u9009\u9879 `-s`\u3002\\n  - `setopt`\\t\u5185\u5efa\u547d\u4ee4set\u7684\u9009\u9879 `-o` \u53ef\u7528\u7684\u53c2\u6570\u3002\\n  - `shopt`\\t\u5185\u5efa\u547d\u4ee4shopt\u53ef\u63a5\u53d7\u7684\u9009\u9879\u540d\u3002\\n  - `signal`\\t\u4fe1\u53f7\u540d\u3002\\n  - `stopped`\\t\u6682\u505c\u7684\u4f5c\u4e1a\u540d\u3002\\n  - `user`\\t\u7528\u6237\u540d\uff0c\u540c\u9009\u9879 `-u`\u3002\\n  - `variable`\\t\u6240\u6709\u7684shell\u53d8\u91cf\u540d\uff0c\u540c\u9009\u9879 `-v`\u3002\\n- `-C command`\\t\u5728\u5b50shell\u4e2d\u6267\u884c\u547d\u4ee4\uff0c\u5e76\u628a\u5176\u7ed3\u679c\u4f5c\u4e3a\u8865\u5168\u6761\u76ee\u3002\\n- `-F function` \u6307\u5b9afunction\u751f\u6210\u53ef\u9009\u5355\u8bcd\u3002\\n  - \u5728\u51fd\u6570\u5b9a\u4e49\u4e2d\uff0c\u4e00\u4e9bshell\u53d8\u91cf\u53ef\u4ee5\u4f7f\u7528\uff1a`COMP_LINE`, `COMP_POINT`, `COMP_KEY`, `COMP_TYPE`\u3002\\n  - \u51fd\u6570\u53c2\u6570\u5b9a\u4e49\u662f\uff1a`$1` \u4e3a\u5f53\u524d\u8981\u8865\u5168\u53c2\u6570\u7684\u547d\u4ee4\uff0c`$2` \u4e3a\u5f53\u524d\u8981\u8865\u5168\u7684\u5355\u8bcd\uff0c`$3` \u4e3a\u5f53\u524d\u8981\u8865\u5168\u5355\u8bcd\u7684\u524d\u9762\u4e00\u4e2a\u5355\u8bcd\u3002\\n  - \u8fd9\u4e9b\u90fd\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u51fd\u6570\u4e2d\u4f7f\u7528\u3002\u6700\u7ec8\u5355\u8bcd\u5217\u8868\u8981\u653e\u5230 `COMPREPLY` \u8fd9\u4e2a\u6570\u7ec4\u4e2d\uff0cshell\u8865\u5168\u673a\u5236\u662f\u4ece\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u53d6\u5355\u8bcd\u7684\u3002\\n- `-G globpat`\\t\u4f7f\u7528\u6587\u4ef6\u540d\u6269\u5c55\u6a21\u5f0fglobpat\u8fdb\u884c\u6269\u5c55\u4ee5\u751f\u6210\u53ef\u80fd\u7684\u8865\u5168\u6761\u76ee\u3002\\n- `-P prefix`\\t\u5728\u6240\u6709\u7684\u9009\u9879\u5e94\u7528\u5230\u8865\u5168\u7ed3\u679c\u540e\uff0c\u5728\u7ed3\u679c\u524d\u6dfb\u52a0\u524d\u7f00prefix\u3002\\n- `-S suffix`\\t\u5728\u6240\u6709\u7684\u9009\u9879\u5e94\u7528\u5230\u8865\u5168\u7ed3\u679c\u540e\uff0c\u5728\u7ed3\u679c\u540e\u6dfb\u52a0\u540e\u7f00suffix\u3002\\n- `-W wordlist`\\t\u4f7f\u7528\u7279\u6b8a\u53d8\u91cf `IFS` \u4e2d\u7684\u5b57\u7b26\u62c6\u5206\u5355\u8bcd\u5217\u8868wordlist\uff0c\u5e76\u6269\u5c55\u62c6\u5206\u540e\u7684\u6bcf\u4e2a\u5355\u8bcd\uff0c\u7ed3\u679c\u4e2d\u4e0e\u5f85\u8865\u5168\u5355\u8bcd\u5339\u914d\u7684\u6761\u76ee\u5c31\u662f\u8865\u5168\u6761\u76ee\u3002\\n- `-X filterpat`\\tfilterpat\u662f\u8fdb\u884c\u6587\u4ef6\u540d\u6269\u5c55\u65f6\u4f7f\u7528\u7684\u6a21\u5f0f\uff0c\u5b83\u4f5c\u7528\u4e8e\u901a\u8fc7\u524d\u9762\u7684\u9009\u9879\u548c\u53c2\u6570\u751f\u6210\u7684\u8865\u5168\u5217\u8868\uff0c\u5e76\u628a\u6bcf\u4e2a\u4e0e\u8fc7\u6ee4\u6a21\u5f0f\u5339\u914d\u7684\u6761\u76ee\u5220\u9664\uff0c\u6a21\u5f0f\u4e2d\u524d\u5bfc\u7684\u53f9\u53f7\u8868\u793a\u5426\u5b9a\uff0c\u8fd9\u65f6\u4f1a\u5220\u9664\u4e0e\u8fc7\u6ee4\u6a21\u5f0f\u4e0d\u5339\u914d\u7684\u6761\u76ee\u3002\\n\\n> TIP: `IFS` \u5185\u90e8\u5b57\u6bb5\u5206\u9694\u7b26\u3002\\n> \u7528\u4e8e\u8fed\u4ee3\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a`data=\\"a,b,c\\"` \u8bbe\u7f6e `local IFS=\\",\\"` , \u4f7f\u7528 `for item in $data` \u8fed\u4ee3\u5b57\u7b26\u4e32\uff0c\u5185\u90e8item \u5373\u662f\u5355\u4e2a\u7684 `a` `b` `c`\\n\\n** -F \u8865\u5145\u8bf4\u660e\uff1a**\\n\\n- `COMPREPLY` \u53d8\u91cf\u7684\u5185\u5bb9\u603b\u662f\u4f1a\u663e\u793a\uff0c\u8865\u5168\u51fd\u6570\u9700\u8981\u81ea\u5df1\u5904\u7406\u5176\u4e2d\u7684\u5185\u5bb9\u3002\\n- \u5982\u679c `COMPREPLY` \u53d8\u91cf\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8bcd\u4f1a\u81ea\u52a8\u8865\u5168\u5230\u547d\u4ee4\u4e4b\u540e\u3002\u8fd4\u56de\u591a\u4e2a\u5019\u9009\u5219\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u529f\u80fd\u3002\\n\\n- `COMP_WORDS`\uff1a\u5f53\u524d\u547d\u4ee4\u884c\u4e2d\u5df2\u7ecf\u8f93\u5165\u7684\u8bcd\u6570\u7ec4\u3002\\n- `COMP_CWORD`\uff1a\u5f53\u524d\u5149\u6807\u6240\u5904\u8bcd\u4f4d\u4e8e `COMP_WORDS` \u6570\u7ec4\u4e2d\u7684\u7d22\u5f15\u503c\u3002\u65e2\u5f53\u6309\u4e0b tab \u952e\u65f6\u5149\u6807\u6240\u5904\u8bcd\u7684\u7d22\u5f15\u3002\\n- `COMP_LINE`\uff1a\u5f53\u524d\u547d\u4ee4\u884c\u3002\\n\\n\u83b7\u53d6\u547d\u4ee4\u540e\u9762\u7684\u8bcd\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 `COMP_WORDS[1]` \u7684\u503c\\n\\n### compgen \u51fd\u6570\\n\\n`compgen` \u662f\u4e00\u4e2a\u7528\u4e8e\u751f\u6210\u8865\u5168\u5217\u8868\u7684\u5185\u7f6e\u547d\u4ee4\uff0c\u652f\u6301complete\u547d\u4ee4\u7684\u5927\u90e8\u5206\u53c2\u6570\uff08\u4f8b\u5982-W\u53c2\u6570\u6307\u5b9a\u8865\u5168\u8bcd\u5217\u8868\uff0c-d\u53c2\u6570\u8865\u5168\u76ee\u5f55\uff09\uff0c\u5e76\u80fd\u591f **\u57fa\u4e8e\u7528\u6237\u5df2\u7ecf\u8f93\u5165\u7684\u5185\u5bb9\u8fdb\u884c\u8fc7\u6ee4**\\n\\n```bash\\n$ compgen --help\\ncompgen: compgen [-abcdefgjksuv] [-o option] [-A action] [-G globpat] [-W wordlist]  [-F function] [-C command] [-X filterpat] [-P prefix] [-S suffix] [word]\\n```\\n\\n\u9009\u9879 | \u9009\u9879\u503c   | \u8bf4\u660e\\n----|-----------|-----------------------\\n`-F` |   function | \u6267\u884cshell \u51fd\u6570\uff0c\u51fd\u6570\u4e2d\u751f\u6210COMPREPLY\u4f5c\u4e3a\u5019\u9009\u7684\u8865\u5168\u7ed3\u679c\\n`-C` |    command | \u5c06 command \u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u4f5c\u4e3a\u5019\u9009\u7684\u8865\u5168 \u7ed3\u679c\\n`-G` |    pattern | \u5c06\u5339\u914d pattern\u7684\u6587\u4ef6\u540d\u4f5c\u4e3a\u5019\u9009\u7684\u8865\u5168\u7ed3\u679c\\n`-W` |    wordlist |  \u5206\u5272 wordlist \u4e2d\u7684\u5355\u8bcd\uff0c\u4f5c\u4e3a\u5019\u9009\u7684\u8865\u5168\u7ed3\u679c\\n`-p` |    `[name]` | \u5217\u51fa\u5f53\u524d\u6240\u6709\u7684\u8865\u5168\u547d\u4ee4\\n`-r` |   `[name]` | \u5220\u9664\u67d0\u4e2a\u8865\u5168\u547d\u4ee4\\n\\n\u6d4b\u8bd5\u4f7f\u7528\uff1a\\n\\n```bash\\n$ compgen -W \\"one two three\\"\\none\\ntwo\\nthree\\n\\ninhere@Inhere-win10 MINGW64 /f/work (main)\\n$ compgen -W \\"one two three\\" o\\none\\n\\ninhere@Inhere-win10 MINGW64 /f/work (main)\\n$ compgen -W \\"one two three\\" t\\ntwo\\nthree\\n```\\n\\n### \u5e2e\u52a9\u8c03\u8bd5\\n\\n```bash\\n# \u6253\u5370\u5168\u90e8\u5df2\u5b9a\u4e49\u7684\u51fd\u6570\u540d\u79f0\\ndeclare -F\\n# \u67e5\u770b\u6307\u5b9a\u51fd\u6570\u7684\u5b9a\u4e49\\ndeclare -f __my_completion\\n```\\n\\n## \u5206\u5272\u5355\u8bcd\u5217\u8868\u4f5c\u4e3a\u8865\u5168\u6570\u636e\\n\\n```bash\\n#!/usr/bin/env bash\\n\\n__my_completion () {\\n    cur_name=\\"${COMP_WORDS[COMP_CWORD]}\\"\\n    # \u5019\u9009\u547d\u4ee4\\n    commands=\\"one two three\\"\\n    COMPREPLY=($(compgen -W \\"$commands\\" -- \\"$cur_name\\"))\\n}\\n\\ncomplete -F __my_completion myapp\\n```\\n\\n## \u4f7f\u7528echo\u8fd4\u56de\u4f5c\u4e3a\u8865\u5168\u6570\u636e\\n\\n\u7b80\u5355\u7684\u4f7f\u7528echo\u8fd4\u56de\u4f5c\u4e3a\u8865\u5168\u6570\u636e\\n\\n```bash\\n__my_completion () {\\n    # \u5019\u9009\u547d\u4ee4\\n    commands=\\"one two three\\"\\n    echo $commands\\n}\\n\\n# for use echo\\ncomplete -o dirnames -C \'__my_completion\' myapp\\n```\\n\\n## \u4f7f\u7528\u5916\u90e8\u51fd\u6570\u7684\u7ed3\u679c\u8865\u5168\\n\\n```bash\\n__my_completion () {\\n    # \u8f93\u5165\u7684\u5173\u952e\u8bcd\\n    local term=\\"${COMP_WORDS[COMP_CWORD]}\\"\\n    # \u4f7f\u7528\u5916\u90e8\u547d\u4ee4\u6765\u5339\u914d\u5173\u952e\u8bcd\u5e76\u8fd4\u56de\u7ed3\u679c\\n    local commands=$(kite jump hint \\"$term\\" --no-name)\\n\\n    #    echo commands:\\n    #    echo $commands --- ${commands[@]}\\n    COMPREPLY=($commands)\\n}\\n\\n# for use echo\\ncomplete -o dirnames -F \'__my_completion\' myapp\\n```\\n\\n\\n> TIP: \u7f16\u5199\u597d\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 `source ./my_complete.sh` \u4e34\u65f6\u52a0\u8f7d\u5230bash; \u8981\u4fdd\u6301\u4e00\u76f4\u751f\u6548\u9700\u8981\u914d\u7f6e\u5230 `.bashrc`\\n\\n\\n> \u53c2\u8003\u6587\u7ae0\u94fe\u63a5\uff1a\\n> - https://blog.csdn.net/qq_38883889/article/details/106543271\\n> - https://blog.csdn.net/junyidcf/article/details/54178196\\n> - https://www.infoq.cn/article/bash-programmable-completion-tutorial"},{"id":"/2021/08/08/quick-config-bashrc","metadata":{"permalink":"/en/blog/2021/08/08/quick-config-bashrc","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2021/08-08-quick-config-bashrc.md","source":"@site/blog/2021/08-08-quick-config-bashrc.md","title":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883","description":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883","date":"2021-08-08T11:26:00.000Z","formattedDate":"August 8, 2021","tags":[{"label":"shell","permalink":"/en/blog/tags/shell"},{"label":"bash","permalink":"/en/blog/tags/bash"},{"label":"linux","permalink":"/en/blog/tags/linux"}],"readingTime":1.05,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883","authors":"inhere","tags":["shell","bash","linux"],"date":"2021-08-08T11:26"},"prevItem":{"title":"\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168","permalink":"/en/blog/2021/08/09/learn-bash-completion"},"nextItem":{"title":"MDX Blog Post","permalink":"/en/blog/mdx-blog-post"}},"content":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883\\n\\n\x3c!--truncate--\x3e\\n\\n## \u81ea\u52a8\u52a0\u8f7d\u6307\u5b9a\u76ee\u5f55\u7684\u811a\u672c\\n\\n\u5feb\u901f\u7684\u914d\u7f6ebashrc\u652f\u6301\u81ea\u52a8\u52a0\u8f7d\u6307\u5b9a\u76ee\u5f55\u7684bash\u811a\u672c\\n\\n\u60f3\u8981\u5c06bash\u811a\u672c\u653e\u7f6e\u5230 `~/.bash-scripts`\\n\\n```bash\\nmkdir ~/.bash-scripts\\n```\\n\\n\u4f7f\u7528vim\u6253\u5f00 `~/.bashrc`:\\n\\n```bash\\nvim ~/.bashrc\\n```\\n\\n\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9:\\n\\n```bash\\n#\\n#\\n# use for custom config an .bashrc, support auto load *.bash files\\n#\\n\\n## auto load bash files\\nfor file in .bash-scripts/*.bash\\ndo\\n    # shellcheck disable=SC1090\\n    test -f $file && . $file\\ndone\\n\\n## load custom aliases file.\\nlocal customAliasFile=~/.my-aliases.sh\\n# shellcheck disable=SC1090\\ntest -f $customAliasFile && . $customAliasFile\\n\\n```\\n\\n## \u914d\u7f6e\u5e38\u7528\u522b\u540d\u548c\u51fd\u6570\\n\\n\u6211\u5c06\u81ea\u5df1\u7684\u5e38\u7528\u522b\u540d\u548c\u51fd\u6570 \u653e\u7f6e\u5230 `~/.my-aliases.sh`\\n\\n```bash\\n##\\n## aliases\\n##\\nalias ls=\\"ls --color=auto\\"\\nalias ll=\\"ls -al\\"\\nalias gst=\\"git status\\"\\n\\n##\\n## reload bash\\n##\\nfunction reload_bash(){\\n    source ~/.bashrc\\n}\\n\\n##\\n## proxy setting\\n##\\nfunction proxy_off(){\\n    unset http_proxy\\n    unset https_proxy\\n    echo -e \\"proxy closed\\"\\n}\\n\\nfunction proxy_on() {\\n    export no_proxy=\\"localhost,127.0.0.1,localaddress,.localdomain.com\\"\\n    export http_proxy=\\"http://127.0.0.1:10801\\"\\n    export https_proxy=$http_proxy\\n    echo -e \\"proxy opened\\"\\n}\\n\\n```"},{"id":"mdx-blog-post","metadata":{"permalink":"/en/blog/mdx-blog-post","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2021-08-01-mdx-blog-post.mdx","source":"@site/blog/2021-08-01-mdx-blog-post.mdx","title":"MDX Blog Post","description":"Blog posts support Docusaurus Markdown features, such as MDX.","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"docusaurus","permalink":"/en/blog/tags/docusaurus"}],"readingTime":0.175,"hasTruncateMarker":false,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"slug":"mdx-blog-post","title":"MDX Blog Post","authors":["inhere"],"tags":["docusaurus"]},"prevItem":{"title":"\u7b80\u5355\u5feb\u901f\u7684\u914d\u7f6e\u81ea\u5df1\u7684bash\u73af\u5883","permalink":"/en/blog/2021/08/08/quick-config-bashrc"},"nextItem":{"title":"ZSH\u81ea\u52a8\u8865\u5168\u811a\u672c\u7f16\u5199","permalink":"/en/blog/2021/07/28/zsh-completions-howto"}},"content":"Blog posts support [Docusaurus Markdown features](https://docusaurus.io/docs/markdown-features), such as [MDX](https://mdxjs.com/).\\n\\n:::tip\\n\\nUse the power of React to create interactive blog posts.\\n\\n```js\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n```\\n\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n\\n:::"},{"id":"/2021/07/28/zsh-completions-howto","metadata":{"permalink":"/en/blog/2021/07/28/zsh-completions-howto","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2021/07-28-zsh-completions-howto.md","source":"@site/blog/2021/07-28-zsh-completions-howto.md","title":"ZSH\u81ea\u52a8\u8865\u5168\u811a\u672c\u7f16\u5199","description":"\u544a\u8bc9 zsh \u4f7f\u7528\u54ea\u4e2a\u51fd\u6570\u6765\u5b8c\u6210\u547d\u4ee4","date":"2021-07-28T22:04:00.000Z","formattedDate":"July 28, 2021","tags":[{"label":"shell","permalink":"/en/blog/tags/shell"},{"label":"zsh","permalink":"/en/blog/tags/zsh"},{"label":"linux","permalink":"/en/blog/tags/linux"}],"readingTime":16.375,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"ZSH\u81ea\u52a8\u8865\u5168\u811a\u672c\u7f16\u5199","authors":"inhere","tags":["shell","zsh","linux"],"date":"2021-07-28T22:04"},"prevItem":{"title":"MDX Blog Post","permalink":"/en/blog/mdx-blog-post"},"nextItem":{"title":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272","permalink":"/en/blog/simple-use-color-in-shell"}},"content":"\u544a\u8bc9 zsh \u4f7f\u7528\u54ea\u4e2a\u51fd\u6570\u6765\u5b8c\u6210\u547d\u4ee4\\n\\n\u547d\u4ee4\u7684\u5b8c\u6210\u51fd\u6570\u5b58\u50a8\u5728\u540d\u79f0\u4ee5\u4e0b\u5212\u7ebf `_` \u5f00\u5934\u7684\u6587\u4ef6\u4e2d\uff0c\u8fd9\u4e9b\u6587\u4ef6\u5e94\u653e\u7f6e\u5728 `$fpath` \u53d8\u91cf\u4e2d\u5217\u51fa\u7684\u76ee\u5f55\u4e2d\u3002\\n\u53ef\u4ee5\u901a\u8fc7\u5728 `~/.zshrc` \u6587\u4ef6\u4e2d\u6dfb\u52a0\u8fd9\u6837\u7684\u884c\u6765\u5411 `$fpath` \u6dfb\u52a0\u76ee\u5f55\uff1a\\n\\n```bash\\nfpath=(~/newdir $fpath )\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n\u5b8c\u6210\u51fd\u6570\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a\\n\\n```bash\\n# compdef foobar\\n```\\n\\n\u8fd9\u544a\u8bc9 zsh \u8be5\u6587\u4ef6\u5305\u542b\u7528\u4e8e\u5b8c\u6210 foobar \u547d\u4ee4\u7684\u4ee3\u7801\u3002\u8fd9\u662f\u7b2c\u4e00\u884c\u6700\u5e38\u4f7f\u7528\u7684\u683c\u5f0f\uff0c\u4f46\u5982\u679c\u9700\u8981\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u6587\u4ef6\u6765\u5b8c\u6210\u591a\u4e2a\u4e0d\u540c\u7684\u529f\u80fd\u3002\\n\u8bf7\u53c2\u9605[\u6b64\u5904](http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Autoloaded-files)\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\u3002\\n\\n\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 `compdef` \u547d\u4ee4\uff08\u4f8b\u5982\u5728\u4f60\u7684 `~/.zshrc` \u6587\u4ef6\u4e2d\uff09\u544a\u8bc9 zsh \u4f7f\u7528\u54ea\u4e2a\u51fd\u6570\u6765\u5b8c\u6210\u8fd9\u6837\u7684\u547d\u4ee4\uff1a\\n\\n\\n```bash\\n> compdef _function foobar\\n```\\n\\n\u6216\u8005\u5bf9\u51e0\u4e2a\u547d\u4ee4\u4f7f\u7528\u76f8\u540c\u7684\u5b8c\u6210\uff1a\\n\\n```bash\\n> compdef _function foobar goocar hoodar\\n```\\n\\n\u6216\u8005\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u53c2\u6570\uff1a\\n\\n```bash\\n> compdef \' _function arg1 arg2 \' foobar\\n```\\n\\n\u8bf7\u53c2[\u9605\u6b64](http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Functions-4)\u5904\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\u3002\\n\\n## \u7f16\u5199\u81ea\u5df1\u7684\u5b8c\u6210\u51fd\u6570\\n\\n\u4e00\u4e2a\u5f88\u597d\u7684\u5165\u95e8\u65b9\u6cd5\u662f\u67e5\u770b\u4e00\u4e9b\u5df2\u7ecf\u5b9a\u4e49\u7684\u5b8c\u6210\u51fd\u6570\u3002\u5728\u6211\u7684 linux \u5b89\u88c5\u4e2d\uff0c\u8fd9\u4e9b\u53ef\u4ee5\u5728 `/usr/share/zsh/functions/Completion/Unix` \u548c `/usr/share/zsh/functions/Completion/Linux` \u548c\u5176\u4ed6\u4e00\u4e9b\u5b50\u76ee\u5f55\u4e2d\u627e\u5230\u3002\\n\\n\u60a8\u4f1a\u6ce8\u610f\u5230 `_arguments` \u51fd\u6570\u5728\u8fd9\u4e9b\u6587\u4ef6\u4e2d\u88ab\u5927\u91cf\u4f7f\u7528\u3002\u8fd9\u662f\u4e00\u4e2a\u5b9e\u7528\u51fd\u6570\uff0c\u53ef\u4ee5\u8f7b\u677e\u7f16\u5199\u7b80\u5355\u7684\u5b8c\u6210\u51fd\u6570\u3002`_arguments` \u51fd\u6570\u662f `compadd` \u5185\u7f6e\u51fd\u6570\u7684\u5305\u88c5\u5668\u3002`compadd` \u5185\u7f6e\u51fd\u6570\u662f\u7528\u4e8e\u5411\u547d\u4ee4\u884c\u6dfb\u52a0\u5b8c\u6210\u8bcd\u5e76\u63a7\u5236\u5176\u884c\u4e3a\u7684\u6838\u5fc3\u51fd\u6570\u3002\\n\u4f46\u662f\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u60a8\u4e0d\u9700\u8981\u4f7f\u7528 `compadd`\uff0c\u56e0\u4e3a\u6709\u8bb8\u591a\u5b9e\u7528\u51fd\u6570\uff0c\u4f8b\u5982 `_arguments` \u548c `_describe`\uff0c\u5b83\u4eec\u66f4\u6613\u4e8e\u4f7f\u7528\u3002\\n\\n\u5bf9\u4e8e\u975e\u5e38\u57fa\u672c\u7684\u5b8c\u6210\uff0c`_describe` \u51fd\u6570\u5e94\u8be5\u8db3\u591f\u4e86\\n\\n### \u5b9e\u7528\u529f\u80fd\\n\\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u6709\u7528\u7684\u5b9e\u7528\u51fd\u6570\u7684\u5217\u8868\u3002\u5b9e\u7528\u529f\u80fd\u7684\u5b8c\u6574\u5217\u8868\u4ee5\u53ca\u5b8c\u6574\u7684\u89e3\u91ca\u53ef\u5728\u6b64\u5904\u83b7\u5f97\u3002\u4e0b\u4e00\u8282\u5c06\u7ed9\u51fa\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u51fd\u6570\u7684\u793a\u4f8b\u3002\\n\\n**\u6574\u4f53\u5b8c\u6210\u7684\u4e3b\u8981\u5b9e\u7528\u529f\u80fd**\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`_alternative`\\t| \u53ef\u7528\u4e8e\u4ece\u5176\u4ed6\u5b9e\u7528\u7a0b\u5e8f\u51fd\u6570\u6216 shell \u4ee3\u7801\u751f\u6210\u5b8c\u6210\u5019\u9009\u3002\\n`_arguments`\\t| \u7528\u4e8e\u6307\u5b9a\u5982\u4f55\u5b8c\u6210\u5e26\u6709 unix \u6837\u5f0f\u9009\u9879\u7684\u547d\u4ee4\u7684\u5355\u4e2a\u9009\u9879\u548c\u53c2\u6570\u3002\\n`_describe`\\t| \u7528\u4e8e\u521b\u5efa\u7531\u5e26\u6709\u63cf\u8ff0\uff08\u4f46\u6ca1\u6709\u52a8\u4f5c `ACTION`\uff09\u7684\u5355\u8bcd\u7ec4\u6210\u7684\u7b80\u5355\u5b8c\u6210\u3002\u6bd4 `_arguments` \u66f4\u5bb9\u6613\u4f7f\u7528\\n`_gnu_generic` |\\t\u53ef\u7528\u4e8e\u5b8c\u6210\u7406\u89e3 `--help` \u9009\u9879\u7684\u547d\u4ee4\u7684\u9009\u9879\u3002\\n`_regex_arguments` |\\t\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u5c06\u547d\u4ee4\u884c\u53c2\u6570\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\uff0c\u7136\u540e\u6267\u884c\u64cd\u4f5c/\u5b8c\u6210\u3002\\n\\n**\u7528\u4e8e\u6267\u884c\u5355\u4e2a\u5355\u8bcd\u7684\u590d\u6742\u5b8c\u6210\u7684\u51fd\u6570**\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`_values` |\u7528\u4e8e\u5b8c\u6210\u4efb\u610f\u5173\u952e\u5b57\uff08\u503c\uff09\u53ca\u5176\u53c2\u6570\uff0c\u6216\u6b64\u7c7b\u7ec4\u5408\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002\\n`_combination`   |  \u7528\u4e8e\u5b8c\u6210\u503c\u7684\u7ec4\u5408\uff0c\u4f8b\u5982\u4e3b\u673a\u540d\u548c\u7528\u6237\u540d\u5bf9\u3002\\n`_multi_parts` |   \u7528\u4e8e\u5206\u522b\u5b8c\u6210\u5355\u8bcd\u7684\u591a\u4e2a\u90e8\u5206\uff0c\u5176\u4e2d\u6bcf\u4e2a\u90e8\u5206\u7531\u4e00\u4e9b\u5b57\u7b26\u5206\u9694\uff0c\u4f8b\u5982\u7528\u4e8e\u5b8c\u6210\u90e8\u5206\u6587\u4ef6\u8def\u5f84\uff1a`/u/i/sy -> /usr/include/sys`\\n`_sep_parts`  |    \u4e0e _multi_parts \u7c7b\u4f3c\uff0c\u4f46\u5141\u8bb8\u5728\u5b8c\u6210\u7684\u4e0d\u540c\u90e8\u5206\u4f7f\u7528\u4e0d\u540c\u7684\u5206\u9694\u7b26\u3002\\n`_sequence`   |  \u7528\u4f5c\u53e6\u4e00\u4e2a\u5b8c\u6210\u51fd\u6570\u7684\u5305\u88c5\u5668\uff0c\u4ee5\u5b8c\u6210\u7531\u8be5\u5176\u4ed6\u51fd\u6570\u751f\u6210\u7684\u5206\u9694\u5339\u914d\u5217\u8868\u3002\\n\\n**\u7528\u4e8e\u5b8c\u6210\u7279\u5b9a\u7c7b\u578b\u5bf9\u8c61\u7684\u51fd\u6570**\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`_path_files`  |    \u7528\u4e8e\u5b8c\u6210\u6587\u4ef6\u8def\u5f84\u3002\u91c7\u53d6\u591a\u79cd\u9009\u62e9\u6765\u63a7\u5236\u884c\u4e3a\u3002\\n`_files`    |  \u4f7f\u7528\u9664 `-g` \u548c `-/` \u4e4b\u5916\u7684\u6240\u6709\u9009\u9879\u8c03\u7528 `_path_files`\u3002\u8fd9\u4e9b\u9009\u9879\u53d6\u51b3\u4e8e\u6587\u4ef6\u6a21\u5f0f\u6837\u5f0f\u8bbe\u7f6e\u3002\\n`_net_interfaces` | \u7528\u4e8e\u8865\u5168\u7f51\u7edc\u63a5\u53e3\u540d\u79f0\\n`_users`   |   \u7528\u4e8e\u586b\u5199\u7528\u6237\u540d\\n`_groups` | \u7528\u4e8e\u5b8c\u6210\u7ec4\u540d\\n`_options`    |  \u7528\u4e8e\u8865\u5168 shell \u9009\u9879\u7684\u540d\u79f0\u3002\\n`_parameters`    |  \u7528\u4e8e\u5b8c\u6210 shell \u53c2\u6570/\u53d8\u91cf\u7684\u540d\u79f0\uff08\u53ef\u4ee5\u9650\u5236\u4e3a\u5339\u914d\u6a21\u5f0f\u7684\u90a3\u4e9b\uff09\\n\\n**\u5904\u7406\u7f13\u5b58\u5b8c\u6210\u7684\u51fd\u6570**\\n\\n\u5982\u679c\u60a8\u6709\u5927\u91cf\u5b8c\u6210\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u4fdd\u5b58\u5728\u7f13\u5b58\u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fbf\u5feb\u901f\u52a0\u8f7d\u5b8c\u6210\u3002\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`_cache_invalid` |  \u6307\u793a\u4e0e\u7ed9\u5b9a\u7f13\u5b58\u6807\u8bc6\u7b26\u5bf9\u5e94\u7684\u5b8c\u6210\u7f13\u5b58\u662f\u5426\u9700\u8981\u91cd\u5efa\\n`_retrieve_cache` | \u4ece\u7f13\u5b58\u6587\u4ef6\u4e2d\u68c0\u7d22\u5b8c\u6210\u4fe1\u606f\\n`_store_cache` |    \u5728\u7f13\u5b58\u6587\u4ef6\u4e2d\u5b58\u50a8\u4e0e\u7ed9\u5b9a\u7f13\u5b58\u6807\u8bc6\u7b26\u76f8\u5bf9\u5e94\u7684\u5b8c\u6210\\n\\n**\u5176\u4ed6\u529f\u80fd**\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`_message` |     \u7528\u4e8e\u5728\u65e0\u6cd5\u751f\u6210\u5b8c\u6210\u7684\u5730\u65b9\u663e\u793a\u5e2e\u52a9\u6d88\u606f\u3002\\n`_regex_words` |    \u53ef\u7528\u4e8e\u4e3a `_regex_arguments` \u547d\u4ee4\u751f\u6210\u53c2\u6570\u3002\u8fd9\u6bd4\u624b\u52a8\u7f16\u5199\u53c2\u6570\u66f4\u5bb9\u6613\u3002\\n`_guard` |     \u53ef\u7528\u4e8e `_arguments` \u7684\u89c4\u8303\u7684 `ACTION` \u548c\u7c7b\u4f3c\u51fd\u6570\u6765\u68c0\u67e5\u6b63\u5728\u5b8c\u6210\u7684\u5355\u8bcd\u3002\\n\\n**\u52a8\u4f5c Action**\\n\\n\u8bb8\u591a\u5b9e\u7528\u51fd\u6570\uff0c\u4f8b\u5982 `_arguments` `_regex_arguments` `_alternative` \u548c `_values` \u53ef\u80fd\u5728\u9009\u9879/\u53c2\u6570\u89c4\u8303\u7684\u672b\u5c3e\u5305\u542b\u4e00\u4e2a\u52a8\u4f5c\u3002\u6b64\u52a8\u4f5c\u6307\u793a\u5982\u4f55\u5b8c\u6210\u76f8\u5e94\u7684\u53c2\u6570\u3002\u52a8\u4f5c `Action` \u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u5f62\u5f0f\u4e4b\u4e00\uff1a\\n\\n\u51fd\u6570 | \u8bf4\u660e\\n-----|-------\\n`()` | \u9700\u8981\u53c2\u6570\uff0c\u4f46\u4e0d\u4f1a\u751f\u6210\u5339\u914d\u9879\u3002\\n`(ITEM1 ITEM2)` |\\t\u53ef\u80fd\u5339\u914d\u9879\u5217\u8868\\n`((ITEM1\\\\:\'DESC1\' ITEM2\\\\:\'DESC2\'))`\\t| \u53ef\u80fd\u7684\u5339\u914d\u5217\u8868\uff0c\u9644\u5e26\u63cf\u8ff0\u4fe1\u606f\u3002\u6ce8\u610f\uff1aAction \u4e2d\u7684\u5f15\u53f7\u4e0d\u80fd\u548c\u5176\u6240\u5728\u7684\u53c2\u6570\u683c\u5f0f\u5b57\u7b26\u4e32\u7684\u5f15\u53f7\u76f8\u540c\\n`->STRING` |  \u5c06`$state`\u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\u5e76\u7ee7\u7eed\uff08`$state`\u53ef\u5728\u5b9e\u7528\u529f\u80fd\u8c03\u7528\u540e\u5728\u6848\u4f8b\u9648\u8ff0\u4e2d\u68c0\u67e5\uff09\\n`FUNCTION` |  \u7528\u4e8e\u751f\u6210\u5339\u914d\u6216\u6267\u884c\u67d0\u4e9b\u5176\u4ed6\u64cd\u4f5c\u7684\u51fd\u6570\u540d\u79f0. \u4f8b\u5982 `_files` \u6216 `_message`\\n`{EVAL-STRING}` |\\t\u5c06\u5b57\u7b26\u4e32\u8bc4\u4f30\u4e3a shell \u4ee3\u7801\u4ee5\u751f\u6210\u5339\u914d\u9879\u3002\u8fd9\u53ef\u7528\u4e8e\u8c03\u7528\u5e26\u6709\u53c2\u6570\u7684\u5b9e\u7528\u7a0b\u5e8f\u51fd\u6570\uff0c\u4f8b\u5982 `_values` \u6216 `_describe`\\n`=ACTION` |\\t\u5728\u5b8c\u6210\u547d\u4ee4\u884c\u4e2d\u63d2\u5165\u4e00\u4e2a\u865a\u62df\u8bcd\u800c\u4e14\u4e0d\u4f1a\u6539\u53d8\u8865\u5168\u4f4d\u7f6e\u8282\u70b9\\n\\n\u5e76\u975e\u6240\u6709\u64cd\u4f5c\u7c7b\u578b\u90fd\u53ef\u7528\u4e8e\u4f7f\u7528\u5b83\u4eec\u7684\u6240\u6709\u5b9e\u7528\u529f\u80fd\u3002\u4f8b\u5982\uff0c->string \u7c7b\u578b\u5728_regex_arguments\u6216_alternative\u529f\u80fd\u4e2d\u4e0d\u53ef\u7528\u3002\\n\\n### \u4f7f\u7528 _describe \u7f16\u5199\u7b80\u5355\u7684\u5b8c\u6210\u51fd\u6570\\n\\n`_describe` \u51fd\u6570\u53ef\u7528\u4e8e\u7b80\u5355\u7684\u8865\u5168\uff0c\u5176\u4e2d\u9009\u9879/\u53c2\u6570\u7684\u987a\u5e8f\u548c\u4f4d\u7f6e\u5e76\u4e0d\u91cd\u8981\u3002\u60a8\u53ea\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u53c2\u6570\u6765\u4fdd\u5b58\u9009\u9879\u53ca\u5176\u63cf\u8ff0\uff0c\u7136\u540e\u5c06\u53c2\u6570\u540d\u79f0\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 `_describe`\u3002\u4e0b\u9762\u7684\u793a\u4f8b\u521b\u5efa\u5b8c\u6210\u5019\u9009 c \u548c d\uff0c\u4ee5\u53ca\u63cf\u8ff0\uff08\u6ce8\u610f\u8fd9\u5e94\u8be5\u653e\u5728 `$fpath` \u4e2d\u5217\u51fa\u7684\u67d0\u4e2a\u76ee\u5f55\u4e2d\u540d\u4e3a `_cmd` \u7684\u6587\u4ef6\u4e2d\uff09\u3002\\n\\n```bash\\n#compdef cmd\\nlocal -a subcmds\\nsubcmds=(\'c:description for c command\' \'d:description for d command\')\\n_describe \'command\' subcmds\\n```\\n\\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7531\u53cc\u8fde\u5b57\u7b26\u5206\u9694\u7684\u591a\u4e2a\u4e0d\u540c\u5217\u8868\uff0c\u4f46\u8bf7\u6ce8\u610f\uff0c\u8fd9\u6df7\u5408\u4e86\u5355\u4e2a\u6807\u9898\u4e0b\u7684\u5339\u914d\u9879\uff0c\u5e76\u4e14\u4e0d\u6253\u7b97\u4e0e\u4e0d\u540c\u7c7b\u578b\u7684\u5b8c\u6210\u5019\u9009\u8005\u4e00\u8d77\u4f7f\u7528\uff1a\\n\\n```bash\\nlocal -a subcmds topics\\nsubcmds=(\'c:description for c command\' \'d:description for d command\')\\ntopics=(\'e:description for e help topic\' \'f:description for f help topic\')\\n_describe \'command\' subcmds -- topics\\n\\n```\\n\\n\u5982\u679c\u4e24\u4e2a\u5019\u9009\u4eba\u6709\u76f8\u540c\u7684\u63cf\u8ff0\uff0c`_describe` \u5c06\u5b83\u4eec\u6536\u96c6\u5728\u540c\u4e00\u884c\u4e2d\uff0c\u5e76\u786e\u4fdd\u63cf\u8ff0\u5728\u5217\u4e2d\u6574\u9f50\u5bf9\u9f50\u3002`_describe` \u51fd\u6570\u53ef\u4ee5\u5728 `ACTION` \u4e2d\u7528\u4f5c `_alternative`\u3001`_arguments` \u6216 `_regex_arguments` \u89c4\u8303\u7684\u4e00\u90e8\u5206\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u5fc5\u987b\u5c06\u5b83\u7684\u53c2\u6570\u653e\u5728\u5927\u62ec\u53f7\u4e2d\uff0c\u4f8b\u5982 `\'TAG:DESCRIPTION:{_describe \'values\' options}\'`\\n\\n### \u4f7f\u7528 _alternative \u7f16\u5199\u5b8c\u6210\u51fd\u6570\\n\\n\u4e0e `_describe` \u4e00\u6837\uff0c\u6b64\u51fd\u6570\u6267\u884c\u7b80\u5355\u7684\u8865\u5168\uff0c\u5176\u4e2d\u9009\u9879/\u53c2\u6570\u7684\u987a\u5e8f\u548c\u4f4d\u7f6e\u5e76\u4e0d\u91cd\u8981\u3002\u7136\u800c\uff0c\u4e0e _describe \u4e0d\u540c\u7684\u662f\uff0c\u53ef\u4ee5\u8c03\u7528\u5176\u4ed6\u51fd\u6570\u800c\u4e0d\u662f\u56fa\u5b9a\u5339\u914d\u6765\u751f\u6210\u5b8c\u6210\u5019\u9009\u3002\u6b64\u5916\uff0c_alternative \u5141\u8bb8\u6df7\u5408\u4e0d\u540c\u7c7b\u578b\u7684\u5b8c\u6210\u5019\u9009\u3002\\n\\n\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b83\u91c7\u7528 `\'TAG:DESCRIPTION:ACTION\'` \u5f62\u5f0f\u7684\u89c4\u8303\u5217\u8868\uff0c\u5176\u4e2d TAG \u662f\u6807\u8bc6\u5b8c\u6210\u5339\u914d\u7c7b\u578b\u7684\u7279\u6b8a\u6807\u7b7e\uff0cDESCRIPTION \u7528\u4f5c\u6807\u9898\u6765\u5171\u540c\u63cf\u8ff0\u5b8c\u6210\u5019\u9009\u7ec4\uff0c\u800c ACTION\u662f\u524d\u9762\u5217\u51fa\u7684\u52a8\u4f5c\u7c7b\u578b\u4e4b\u4e00\uff08\u9664\u4e86 `->STRING` \u548c `=ACTION` \u5f62\u5f0f\uff09\u3002\u4f8b\u5982\uff1a\\n\\n```bash\\n_alternative \'arguments:custom arg:(a b c)\' \'files:filename:_files\'\\n```\\n\\n\u7b2c\u4e00\u4e2a\u89c4\u8303\u6dfb\u52a0\u5b8c\u6210\u5019\u9009 a\u3001b \u548c c\uff0c\u7b2c\u4e8c\u4e2a\u89c4\u8303\u8c03\u7528 `_files` \u51fd\u6570\u6765\u5b8c\u6210\u6587\u4ef6\u8def\u5f84\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u7528 `\\\\` \u5c06\u89c4\u8303\u5206\u6210\u51e0\u884c\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u81ea\u5b9a\u4e49\u53c2\u6570\u6dfb\u52a0\u63cf\u8ff0\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n\\n```bash\\n_alternative \\\\\\n  \'args:custom arg:((a\\\\:\\"description a\\" b\\\\:\\"description b\\" c\\\\:\\"description c\\"))\' \\\\\\n  \'files:filename:_files\'\\n```\\n\\n\u5982\u679c\u6211\u4eec\u60f3\u5c06\u53c2\u6570\u4f20\u9012\u7ed9 `_files`\uff0c\u5b83\u4eec\u53ef\u4ee5\u7b80\u5355\u5730\u5305\u542b\u5728\u5185\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n\\n```bash\\n_alternative \\\\\\n  \'args:custom arg:((a\\\\:\\"description a\\" b\\\\:\\"description b\\" c\\\\:\\"description c\\"))\'\\\\\\n  \'files:filename:_files -/\'\\n```\\n\\n\u8981\u4f7f\u7528\u53c2\u6570\u6269\u5c55\u6765\u521b\u5efa\u6211\u4eec\u7684\u5b8c\u6210\u5217\u8868\uff0c\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\u6765\u5f15\u7528\u89c4\u8303\uff0c\u4f8b\u5982\uff1a\\n\\n```bash\\n_alternative \\\\\\n  \\"dirs:user directory:($userdirs)\\" \\\\\\n  \\"pids:process ID:($(ps -A o pid=))\\"\\n```\\n\\n\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u4e2a\u89c4\u8303\u6dfb\u52a0\u5b58\u50a8\u5728 `$userdirs` \u53d8\u91cf\u4e2d\u7684\u5355\u8bcd\uff0c\u7b2c\u4e8c\u4e2a\u89c4\u8303\u8bc4\u4f30 `\'ps -A o pid=\'` \u4ee5\u83b7\u53d6\u7528\u4f5c\u5b8c\u6210\u5019\u9009\u7684 pid \u5217\u8868\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u4f1a\u4e3a\u6b64\u4f7f\u7528\u73b0\u6709\u7684 `_pids` \u51fd\u6570\u3002\\n\\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u5b9e\u7528\u51fd\u6570\uff0c\u4f8b\u5982 ACTION \u4e2d\u7684 `_values` \u6765\u6267\u884c\u66f4\u590d\u6742\u7684\u5b8c\u6210\uff0c\u4f8b\u5982\uff1a\\n\\n```bash\\n_alternative \\\\\\n  \\"directories:user directory:($userdirs)\\" \\\\\\n  \'options:comma-separated opt: _values -s , letter a b c\'\\n\\n```\\n\\n\u8fd9\u5c06\u5b8c\u6210 `$userdirs` \u4e2d\u7684\u9879\u76ee\uff0c\u4ee5\u53ca\u5305\u542b `a, b &/or c` \u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002\u6ce8\u610f `_values` \u4e4b\u524d\u7684\u521d\u59cb\u7a7a\u683c\u7684\u4f7f\u7528\u3002\u8fd9\u662f\u5fc5\u9700\u7684\uff0c\u56e0\u4e3a `_values` \u4e0d\u7406\u89e3\u7528\u4e8e\u63cf\u8ff0\u7684\u6807\u51c6 compadd \u9009\u9879\u3002\\n\\n\u4e0e `_describe` \u4e00\u6837\uff0c`_alternative` \u51fd\u6570\u672c\u8eab\u53ef\u4ee5\u4f5c\u4e3a `_arguments` \u6216 `_regex_arguments` \u89c4\u8303\u7684\u4e00\u90e8\u5206\u5728 `ACTION` \u4e2d\u4f7f\u7528\u3002\\n\\n### \u4f7f\u7528 _arguments \u7f16\u5199\u5b8c\u6210\u51fd\u6570\\n\\n\u901a\u8fc7\u5bf9 _arguments \u51fd\u6570\u7684\u4e00\u6b21\u8c03\u7528\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u76f8\u5f53\u590d\u6742\u7684\u5b8c\u6210\u51fd\u6570\u3002\u5b83\u65e8\u5728\u5904\u7406\u5e26\u6709\u5404\u79cd\u9009\u9879\u548c\u4e00\u4e9b\u666e\u901a\u53c2\u6570\u7684\u5178\u578b\u547d\u4ee4\u3002\u4e0e _alternative \u51fd\u6570\u4e00\u6837\uff0c_arguments \u5c06\u89c4\u8303\u5b57\u7b26\u4e32\u5217\u8868\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4e9b\u89c4\u8303\u5b57\u7b26\u4e32\u6307\u5b9a\u9009\u9879\u548c\u4efb\u4f55\u76f8\u5e94\u7684\u9009\u9879\u53c2\u6570\uff08\u4f8b\u5982 -f \u6587\u4ef6\u540d\uff09\u6216\u547d\u4ee4\u53c2\u6570\u3002\\n\\n\u57fa\u672c\u9009\u9879\u89c4\u8303\u91c7\u7528 `\'-OPT[DESCRIPTION]\'` \u7684\u5f62\u5f0f\uff0c\u4f8b\u5982\uff1a\\n\\n```bash\\n# sort output: \u6392\u5e8f\u8f93\u51fa\\n# long output: \u957f\u8f93\u51fa\\n_arguments \'-s[sort output]\' \'--l[long output]\' \'-l[long output]\'\\n```\\n\\n\u53ef\u4ee5\u5728 `\'-OPT[DESCRIPTION]:MESSAGE:ACTION\'` \u5f62\u5f0f\u7684\u9009\u9879\u63cf\u8ff0\u4e4b\u540e\u6307\u5b9a\u9009\u9879\u7684\u53c2\u6570\uff0c\u5176\u4e2d MESSAGE \u662f\u8981\u663e\u793a\u7684\u6d88\u606f\uff0c\u800c ACTION \u53ef\u4ee5\u662f\u4e0a\u9762 ACTIONS \u90e8\u5206\u4e2d\u63d0\u5230\u7684\u4efb\u4f55\u5f62\u5f0f\u3002\u4f8b\u5982\uff1a\\n\\n```bash\\n_arguments \'-f[input file]:filename:_files\'\\n```\\n\\n\u547d\u4ee4\u53c2\u6570\u89c4\u8303\u91c7\u7528 `\'N:MESSAGE:ACTION\'` \u5f62\u5f0f\uff0c\u5176\u4e2d `N` \u8868\u793a\u5b83\u662f\u7b2c `N` \u4e2a\u547d\u4ee4\u53c2\u6570\uff0c\u800c `MESSAGE & ACTION` \u548c\u4ee5\u524d\u4e00\u6837\u3002\u5982\u679c\u7701\u7565 N\uff0c\u5219\u5b83\u4ec5\u8868\u793a\u4e0b\u4e00\u4e2a\u547d\u4ee4\u53c2\u6570\uff08\u5728\u4efb\u4f55\u5df2\u6307\u5b9a\u7684\u53c2\u6570\u4e4b\u540e\uff09\u3002\u5982\u679c\u5728\u5f00\u5934\uff08\u5728 `N` \u4e4b\u540e\uff09\u4f7f\u7528 _\u53cc\u5192\u53f7_\uff0c\u5219\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002\u4f8b\u5982\uff1a\\n\\n```bash\\n_arguments \'-s[sort output]\' \'1:first arg:_net_interfaces\' \'::optional arg:_files\' \':next arg:(a b c)\'\\n```\\n\\n\u8fd9\u91cc\u7b2c\u4e00\u4e2a arg \u662f\u7f51\u7edc\u63a5\u53e3\uff0c\u4e0b\u4e00\u4e2a\u53ef\u9009 `arg` \u662f\u6587\u4ef6\u540d\uff0c\u6700\u540e\u4e00\u4e2a `arg` \u53ef\u4ee5\u662f a\u3001b \u6216 c\uff0c\u5e76\u4e14 `-s` \u9009\u9879\u53ef\u4ee5\u5728\u4efb\u4f55\u4f4d\u7f6e\u5b8c\u6210\u3002\\n\\n`_arguments` \u51fd\u6570\u5141\u8bb8\u4f7f\u7528\u4e0a\u9762 `ACTION` \u90e8\u5206\u4e2d\u5217\u51fa\u7684\u5168\u5957 ACTION \u8868\u5355\u3002\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4f7f\u7528\u64cd\u4f5c\u6765\u9009\u62e9 `case` \u8bed\u53e5\u5206\u652f\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n```bash\\n_arguments \'-m[music file]:filename:->files\' \'-f[flags]:flag:->flags\'\\ncase \\"$state\\" in\\n    files)\\n        local -a music_files\\n        music_files=( Music/**/*.{mp3,wav,flac,ogg} )\\n        _multi_parts / music_files\\n        ;;\\n    flags)\\n        _values -s , \'flags\' a b c d e\\n        ;;\\nesac\\n```\\n\\n\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u97f3\u4e50\u6587\u4ef6(music_files)\u7684\u8def\u5f84\u4f7f\u7528 `_multi_parts` \u51fd\u6570\u9010\u6b65\u964d\u5e8f\u5b8c\u6210\uff0c\u6807\u5fd7\u4f7f\u7528 `_values` \u51fd\u6570\u4f5c\u4e3a\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u5b8c\u6210\u3002\\n\\n\u6211\u8fd9\u91cc\u521a\u521a\u7ed9\u4f60\u4ecb\u7ecd\u4e86 `_arguments` \u89c4\u8303\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u4f60\u8fd8\u53ef\u4ee5\u6307\u5b9a\u4e92\u65a5\u9009\u9879\u3001\u91cd\u590d\u9009\u9879&\u53c2\u6570\u3001\u4ee5+\u5f00\u5934\u7684\u9009\u9879\u800c\u4e0d\u662f-\u7b49\uff0c\u66f4\u591a\u7ec6\u8282\u53c2\u89c1[\u5b98\u65b9\u6587\u6863](http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Completion-System)\u3002\\n\u53e6\u8bf7\u67e5\u770b\u672c\u6587\u6863\u672b\u5c3e\u63d0\u5230\u7684\u6559\u7a0b\uff0c\u4ee5\u53ca[src \u76ee\u5f55](https://github.com/vapniks/zsh-completions/tree/master/src)\u4e2d\u7684\u5b8c\u6210\u529f\u80fd\u3002\\n\\n## \u6d4b\u8bd5\u4e0e\u8c03\u8bd5\\n\\n\u8981\u91cd\u65b0\u52a0\u8f7d\u5b8c\u6210\u529f\u80fd\uff1a\\n\\n```bash\\n> unfunction _func\\n> autoload -U _func\\n```\\n\\n\u53ef\u4ee5\u8c03\u7528\u4ee5\u4e0b\u51fd\u6570\u6765\u83b7\u53d6\u6709\u7528\u7684\u4fe1\u606f\u3002\u5982\u679c\u9ed8\u8ba4\u952e\u7ed1\u5b9a\u4e0d\u8d77\u4f5c\u7528\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u6309 `Alt+x`\uff0c\u7136\u540e\u8f93\u5165\u547d\u4ee4\u540d\u79f0\u3002\\n\\n\u529f\u80fd |\\t\u9ed8\u8ba4\u952e\u7ed1\u5b9a |\\t\u63cf\u8ff0\\n-----|------------|-----------\\n`_complete_help`\\t| `Ctrl+xh` |\\t\u663e\u793a\u6709\u5173\u5728\u5f53\u524d\u5149\u6807\u4f4d\u7f6e\u5b8c\u6210\u65f6\u4f7f\u7528\u7684\u4e0a\u4e0b\u6587\u540d\u79f0\u3001\u6807\u7b7e\u548c\u5b8c\u6210\u51fd\u6570\u7684\u4fe1\u606f\\n`_complete_help` |\\t`Alt+2 Ctrl+xh` |\\t\u5982\u4e0a\u6240\u8ff0\uff0c\u4f46\u663e\u793a\u66f4\u591a\u4fe1\u606f\\n`_complete_debug` |\\t`Ctrl+x ?`\\t| \u6267\u884c\u666e\u901a\u5b8c\u6210\uff0c\u4f46\u5728\u4e34\u65f6\u6587\u4ef6\u4e2d\u6355\u83b7\u5b8c\u6210\u7cfb\u7edf\u6267\u884c\u7684 shell \u547d\u4ee4\u7684\u8ddf\u8e2a\\n\\n## \u9677\u9631\uff08\u6ce8\u610f\u4e8b\u9879\uff09\\n\\n\u8bf7\u8bb0\u4f4f\u5728\u5305\u542b\u5b8c\u6210\u51fd\u6570\u7684\u6587\u4ef6\u7684\u5f00\u5934\u5305\u542b `#compdef` \u884c\u3002\\n\\n\u6ce8\u610f\u5bf9 `_arguments` \u6216 `_regex_arguments` \u7684\u89c4\u8303\u4f7f\u7528\u6b63\u786e\u7684\u5f15\u7528\u7c7b\u578b\uff1a\u5982\u679c\u89c4\u8303\u4e2d\u5b58\u5728\u9700\u8981\u6269\u5c55\u7684\u53c2\u6570\uff0c\u8bf7\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u5426\u5219\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u5e76\u786e\u4fdd\u5728\u9879\u76ee\u63cf\u8ff0\u5468\u56f4\u4f7f\u7528\u4e0d\u540c\u7684\u5f15\u53f7\u3002\\n\\n\u68c0\u67e5\u60a8\u5728 `_arguments` \u3001`_alternative` \u3001 `_regex_arguments` \u7b49\u89c4\u8303\u7684\u6b63\u786e\u4f4d\u7f6e\u662f\u5426\u6709\u6b63\u786e\u6570\u91cf\u7684 `:`\u3002\\n\\n\u8bb0\u4f4f\u5728\u4f7f\u7528 `_regex_arguments` \u65f6\u5305\u542b\u4e00\u4e2a\u521d\u59cb\u6a21\u5f0f\u6765\u5339\u914d\u547d\u4ee4\u8bcd\uff08\u5b83\u4e0d\u9700\u8981\u5339\u914d\u64cd\u4f5c\uff09\u3002\\n\\n\u8bf7\u8bb0\u4f4f\u5728 `_regex_arguments` \u7684\u4efb\u4f55 `PATTERN` \u53c2\u6570\u7684\u672b\u5c3e\u653e\u7f6e\u4e00\u4e2a\u7a7a\u5b57\u7b26 `$\'\\\\0\'`\\n\\n## \u63d0\u793a\\n\\n\u6709\u65f6\u4f60\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u5728\u5b50\u547d\u4ee4\u4e4b\u540e\u53ea\u6709\u4e00\u4e2a\u9009\u9879\uff0c\u5f53\u5728\u5b50\u547d\u4ee4\u4e4b\u540e\u6309\u4e0b tab \u65f6\uff0czsh \u4f1a\u81ea\u52a8\u5b8c\u6210\u8fd9\u4e2a\u3002\u76f8\u53cd\uff0c\u5982\u679c\u60a8\u5e0c\u671b\u5728\u5b8c\u6210\u4e4b\u524d\u5c06\u5176\u4e0e\u5176\u63cf\u8ff0\u4e00\u8d77\u5217\u51fa\uff0c\u60a8\u53ef\u4ee5\u5411 `ACTION` \u6dfb\u52a0\u53e6\u4e00\u4e2a\u7a7a\u9009\u9879\uff08\u5373 `\\\\:`\uff09\uff0c\u5982\u4e0b\u6240\u793a `\':TAG:DESCRIPTION:((opt1\\\\:\u201ddescription for opt1\u201d \\\\:))\'` \u8bf7\u6ce8\u610f\u8fd9\u4e00\u70b9\u4ec5\u9002\u7528\u4e8e\u5728\u5176\u89c4\u8303\u53c2\u6570\uff08`_arguments`\u3001`_regex_arguments` \u7b49\uff09\u4e2d\u4f7f\u7528 `ACTION` \u7684\u5b9e\u7528\u7a0b\u5e8f\u51fd\u6570\\n\\n\\n> \u672c\u6587\u7ffb\u8bd1\u81ea [zsh-users/zsh-completions](https://github.com/zsh-users/zsh-completions/blob/master/zsh-completions-howto.org)\\n\\n> TIP: \u66f4\u5b8c\u6574\u7684\u7ffb\u8bd1\u6587\u7ae0\u53c2\u770b http://chuquan.me/2020/10/02/zsh-completion-tutorial/"},{"id":"simple-use-color-in-shell","metadata":{"permalink":"/en/blog/simple-use-color-in-shell","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2019/11-08-simple-use-color-shell.md","source":"@site/blog/2019/11-08-simple-use-color-shell.md","title":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272","description":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272\u7684\u4ee3\u7801\u5b9e\u73b0","date":"2019-11-08T22:04:00.000Z","formattedDate":"November 8, 2019","tags":[{"label":"shell","permalink":"/en/blog/tags/shell"},{"label":"bash","permalink":"/en/blog/tags/bash"},{"label":"linux","permalink":"/en/blog/tags/linux"},{"label":"cli-color","permalink":"/en/blog/tags/cli-color"}],"readingTime":1.2,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272","authors":"inhere","tags":["shell","bash","linux","cli-color"],"date":"2019-11-08T22:04","slug":"simple-use-color-in-shell"},"prevItem":{"title":"ZSH\u81ea\u52a8\u8865\u5168\u811a\u672c\u7f16\u5199","permalink":"/en/blog/2021/07/28/zsh-completions-howto"},"nextItem":{"title":"Long Blog Post","permalink":"/en/blog/long-blog-post"}},"content":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272\u7684\u4ee3\u7801\u5b9e\u73b0\\n\\n\x3c!--truncate--\x3e\\n\\n## \u811a\u672c\u4ee3\u7801\\n\\n```bash\\n#!/usr/bin/env bash\\n#\\n# some common functions\\n# file: scripts/common-func.sh\\n\\n# Usage:\\n# user_confirm\\n# user_confirm \\"custom question\\"\\nfunction user_confirm() {\\n    local yes=0\\n    local msg=\\"Confirm continue\\"\\n\\n    # override default message\\n    [[ \\"$1\\" != \\"\\" ]] && msg=$1\\n\\n    # read user input\\n    read -p \\"$msg? [y/n]\\" yn\\n\\n    if [[ ${yn} == [Yy]* ]]; then\\n        return 0\\n    fi\\n\\n    return 1\\n}\\n\\n# Usage:\\n# colored_text \\"message text\\"\\n# colored_text \\"message text\\" \\"red\\"\\n# colored_text \\"message text\\" \\"blue\\"\\nfunction colored_text() {\\n    NOC=\'\\\\033[0m\' # No Color\\n    RED=\'\\\\033[0;31m\'\\n    BLUE=\'\\\\033[0;34m\'\\n    CYAN=\'\\\\033[0;36m\'\\n    GREEN=\'\\\\033[0;32m\'\\n    YELLOW=\'\\\\033[0;33m\'\\n\\n#    [[ \\"$2\\" = \\"\\" ]] && $2=\\"green\\"\\n\\n    if [[ \\"$2\\" = \\"red\\" ]]; then\\n        echo -e \\"${RED}$1${NOC}\\"\\n    elif [[ \\"$2\\" = \\"blue\\" ]]; then\\n        echo -e \\"${BLUE}$1${NOC}\\"\\n    elif [[ \\"$2\\" = \\"cyan\\" ]]; then\\n        echo -e \\"${CYAN}$1${NOC}\\"\\n    elif [[ \\"$2\\" = \\"yellow\\" ]]; then\\n        echo -e \\"${YELLOW}$1${NOC}\\"\\n    else # default green\\n        echo -e \\"${GREEN}$1${NOC}\\"\\n    fi\\n}\\n\\n# quick use color print text\\nfunction red_text() {\\n    colored_text \\"$1\\" red\\n}\\n\\nfunction blue_text() {\\n    colored_text \\"$1\\" blue\\n}\\n\\nfunction cyan_text() {\\n    colored_text \\"$1\\" cyan\\n}\\n\\nfunction green_text() {\\n    colored_text \\"$1\\" green\\n}\\n\\nfunction yellow_text() {\\n    colored_text \\"$1\\" yellow\\n}\\n```\\n\\n## \u5728\u5176\u4ed6\u811a\u672c\u5f15\u5165\\n\\n```bash\\n# import common functions\\nsource \\"$(dirname $0)/scripts/common-func.sh\\"\\n\\ncolored_text \\"Will test components:\\"\\n\\n# do something ...\\n\\ncyan_text \\"\\\\nTest Completed!\\"\\n```"},{"id":"long-blog-post","metadata":{"permalink":"/en/blog/long-blog-post","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2019-05-29-long-blog-post.md","source":"@site/blog/2019-05-29-long-blog-post.md","title":"Long Blog Post","description":"This is the summary of a very long blog post,","date":"2019-05-29T00:00:00.000Z","formattedDate":"May 29, 2019","tags":[{"label":"hello","permalink":"/en/blog/tags/hello"},{"label":"docusaurus","permalink":"/en/blog/tags/docusaurus"}],"readingTime":2.05,"hasTruncateMarker":true,"authors":[{"name":"Endilie Yacop Sucipto","title":"Maintainer of Docusaurus","url":"https://github.com/endiliey","imageURL":"https://github.com/endiliey.png","key":"endi"}],"frontMatter":{"slug":"long-blog-post","title":"Long Blog Post","authors":"endi","tags":["hello","docusaurus"]},"prevItem":{"title":"\u5728shell\u811a\u672c\u91cc\u7b80\u5355\u5feb\u901f\u7684\u4f7f\u7528\u989c\u8272","permalink":"/en/blog/simple-use-color-in-shell"},"nextItem":{"title":"First Blog Post","permalink":"/en/blog/first-blog-post"}},"content":"This is the summary of a very long blog post,\\n\\nUse a `\x3c!--` `truncate` `--\x3e` comment to limit blog post size in the list view.\\n\\n\x3c!--truncate--\x3e\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"},{"id":"first-blog-post","metadata":{"permalink":"/en/blog/first-blog-post","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2019-05-28-first-blog-post.md","source":"@site/blog/2019-05-28-first-blog-post.md","title":"First Blog Post","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet","date":"2019-05-28T00:00:00.000Z","formattedDate":"May 28, 2019","tags":[{"label":"hola","permalink":"/en/blog/tags/hola"},{"label":"docusaurus","permalink":"/en/blog/tags/docusaurus"}],"readingTime":0.12,"hasTruncateMarker":false,"authors":[{"name":"Gao Wei","title":"Docusaurus Core Team","url":"https://github.com/wgao19","image_url":"https://github.com/wgao19.png","imageURL":"https://github.com/wgao19.png"}],"frontMatter":{"slug":"first-blog-post","title":"First Blog Post","authors":{"name":"Gao Wei","title":"Docusaurus Core Team","url":"https://github.com/wgao19","image_url":"https://github.com/wgao19.png","imageURL":"https://github.com/wgao19.png"},"tags":["hola","docusaurus"]},"prevItem":{"title":"Long Blog Post","permalink":"/en/blog/long-blog-post"},"nextItem":{"title":"\u7ed9http.Handler\u5305\u88c5\u4e2d\u95f4\u4ef6","permalink":"/en/blog/wrap-middleware-for-http-handler-in-golang"}},"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"},{"id":"wrap-middleware-for-http-handler-in-golang","metadata":{"permalink":"/en/blog/wrap-middleware-for-http-handler-in-golang","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2018/08-10-wrap-middleware-for-http-handler.md","source":"@site/blog/2018/08-10-wrap-middleware-for-http-handler.md","title":"\u7ed9http.Handler\u5305\u88c5\u4e2d\u95f4\u4ef6","description":"Golang \u4e0b\u7ed9 http.Handler \u5305\u88c5\u4e2d\u95f4\u4ef6","date":"2018-08-10T22:00:00.000Z","formattedDate":"August 10, 2018","tags":[{"label":"golang","permalink":"/en/blog/tags/golang"},{"label":"http","permalink":"/en/blog/tags/http"}],"readingTime":0.69,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"\u7ed9http.Handler\u5305\u88c5\u4e2d\u95f4\u4ef6","authors":"inhere","tags":["golang","http"],"date":"2018-08-10T22:00","slug":"wrap-middleware-for-http-handler-in-golang"},"prevItem":{"title":"First Blog Post","permalink":"/en/blog/first-blog-post"},"nextItem":{"title":"Go \u6355\u83b7 os.Stdout \u7684\u8f93\u51fa","permalink":"/en/blog/rewrite-os-stdout-in-golang"}},"content":"Golang \u4e0b\u7ed9 http.Handler \u5305\u88c5\u4e2d\u95f4\u4ef6\\n\\n\\n\x3c!--truncate--\x3e\\n\\n```go\\npackage main\\n\\nimport \\"net/http\\"\\n\\nfunc main() {\\n    handler := http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\\n        w.Write([]byte(\\"-O-\\"))\\n    })\\n\\n    mdl1 := func(h http.Handler) http.Handler {\\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\\n            w.Write([]byte(\\"a\\"))\\n            h.ServeHTTP(w, r)\\n            w.Write([]byte(\\"A\\"))\\n        })\\n    }\\n    mdl2 := func(h http.Handler) http.Handler {\\n        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\\n            w.Write([]byte(\\"b\\"))\\n            h.ServeHTTP(w, r)\\n            w.Write([]byte(\\"B\\"))\\n        })\\n    }\\n\\n    wrapped := WrapHttpHandlers(handler, mdl1, mdl2)\\n\\n    http.ListenAndServe(\\":8080\\", wrapped)\\n    // Output:\\n    // ab-O-BA\\n}\\n\\n// WrapHttpHandlers apply some pre http handlers for the main handler.\\nfunc WrapHttpHandlers(mainHandler http.Handler, middleware ...func(h http.Handler) http.Handler) http.Handler {\\n    var wrapped http.Handler\\n    max := len(middleware)\\n    lst := make([]int, max)\\n\\n    for i := range lst {\\n        current := max - i - 1\\n        if i == 0 {\\n            wrapped = middleware[current](mainHandler)\\n        } else {\\n            wrapped = middleware[current](wrapped)\\n        }\\n    }\\n\\n    return wrapped\\n}\\n```"},{"id":"rewrite-os-stdout-in-golang","metadata":{"permalink":"/en/blog/rewrite-os-stdout-in-golang","editUrl":"https://github.com/inhere/inhere.github.io/tree/main/blog/2018/08-08-rewrite-os-stdout-in-golang.md","source":"@site/blog/2018/08-08-rewrite-os-stdout-in-golang.md","title":"Go \u6355\u83b7 os.Stdout \u7684\u8f93\u51fa","description":"Go \u91cc\u9762\u6709\u65f6\u5019\u6211\u4eec\u60f3\u6355\u83b7\uff0c\u6216\u8005\u4e22\u5f03\u901a\u8fc7fmt.Print\u7cfb\u5217\u65b9\u6cd5\u6253\u5370\u5230Stdout\u7684\u6570\u636e","date":"2018-08-08T21:00:00.000Z","formattedDate":"August 8, 2018","tags":[{"label":"golang","permalink":"/en/blog/tags/golang"}],"readingTime":1.705,"hasTruncateMarker":true,"authors":[{"name":"inhere","title":"docs maintainer","url":"https://github.com/inhere","imageURL":"https://github.com/inhere.png","key":"inhere"}],"frontMatter":{"title":"Go \u6355\u83b7 os.Stdout \u7684\u8f93\u51fa","tags":["golang"],"date":"2018-08-08T21:00","slug":"rewrite-os-stdout-in-golang","authors":"inhere"},"prevItem":{"title":"\u7ed9http.Handler\u5305\u88c5\u4e2d\u95f4\u4ef6","permalink":"/en/blog/wrap-middleware-for-http-handler-in-golang"}},"content":"Go \u91cc\u9762\u6709\u65f6\u5019\u6211\u4eec\u60f3\u6355\u83b7\uff0c\u6216\u8005\u4e22\u5f03\u901a\u8fc7`fmt.Print`\u7cfb\u5217\u65b9\u6cd5\u6253\u5370\u5230Stdout\u7684\u6570\u636e\\n\\n\\n\x3c!--truncate--\x3e\\n\\n\\n## \u4e22\u5f03\u8f93\u51fa\\n\\n```go\\npackage main\\n\\nimport (\\n    \\"os\\"\\n    \\"fmt\\"\\n)\\n\\nvar oldStdout *os.File\\n\\nfunc main()  {\\n    discardStdout()\\n    fmt.Println(\\"Hello, playground\\")\\n    restoreStdout()\\n    fmt.Println(\\"Hello, playground 2\\")\\n    // Output:\\n    // Hello, playground 2\\n}\\n\\n// usage:\\n// discardStdout()\\n// fmt.Println(\\"Hello, playground\\")\\n// restoreStdout()\\nfunc discardStdout() error {\\n    // save old os.Stdout\\n    oldStdout = os.Stdout\\n\\n    stdout, err := os.OpenFile(os.DevNull, os.O_WRONLY, 0)\\n    if err == nil {\\n        os.Stdout = stdout\\n    }\\n\\n    return err\\n}\\n\\nfunc restoreStdout()  {\\n    if oldStdout != nil {\\n        // close now\\n        os.Stdout.Close()\\n        // restore\\n        os.Stdout = oldStdout\\n        oldStdout = nil\\n    }\\n}\\n```\\n\\n\u8fd0\u884c\u793a\u4f8b\uff0c\u5c06\u53ea\u4f1a\u8f93\u51fa\uff1a `Hello, playground 2`\\n\\n## \u6355\u83b7\u8f93\u51fa\\n\\n- \u6765\u81ea stackoverflow \u7684\u56de\u7b54\\n\\n> from: [stackoverflow](https://stackoverflow.com/questions/10473800/in-go-how-do-i-capture-stdout-of-a-function-into-a-string)\\n\\n```go\\npackage main\\n\\nimport (\\n    \\"os\\"\\n    \\"fmt\\"\\n    \\"io/ioutil\\"\\n)\\n\\nfunc main() {\\n    rescueStdout := os.Stdout\\n    r, w, _ := os.Pipe()\\n    os.Stdout = w\\n\\n    fmt.Println(\\"Hello, playground\\") // this gets captured\\n\\n    w.Close() // Notice: must close before read\\n    out, _ := ioutil.ReadAll(r)\\n    os.Stdout = rescueStdout\\n\\n    fmt.Printf(\\"Captured: %s\\", out) // prints: Captured: Hello, playground\\n}\\n```\\n\\n\u7a0d\u52a0\u8c03\u6574\u4ee5\u65b9\u4fbf\u91cd\u590d\u4f7f\u7528\uff1a\\n\\n```go\\npackage main\\n\\nimport (\\n    \\"os\\"\\n    \\"io/ioutil\\"\\n    \\"fmt\\"\\n)\\n\\nvar oldStdout, newReader *os.File\\n\\nfunc main()  {\\n    rewriteStdout()\\n    fmt.Println(\\"Hello, playground\\")\\n    msg := restoreStdout()\\n\\n    fmt.Print(msg)\\n}\\n\\n// usage:\\n// rewriteStdout()\\n// fmt.Println(\\"Hello, playground\\")\\n// msg := restoreStdout()\\nfunc rewriteStdout()  {\\n    oldStdout = os.Stdout\\n    r, w, _ := os.Pipe()\\n    newReader = r\\n    os.Stdout = w\\n}\\n\\nfunc restoreStdout() string {\\n    if newReader == nil {\\n        return \\"\\"\\n    }\\n\\n    // Notice: must close writer before read data\\n    // close now writer\\n    os.Stdout.Close()\\n    // restore\\n    os.Stdout = oldStdout\\n    oldStdout = nil\\n\\n    // read data\\n    out, _ := ioutil.ReadAll(newReader)\\n\\n    // close reader\\n    newReader.Close()\\n    newReader = nil\\n\\n    return string(out)\\n}\\n```\\n\\n> \u6ce8\u610f\uff1a \u8981\u8bfb\u53d6 `newReader` \u91cc\u7684\u6570\u636e\uff0c\u5fc5\u987b\u5148\u5173\u95ed writer. \u4e0d\u7136\u4f1a\u4e00\u76f4\u963b\u585e\u3002"}]}')}}]);