"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2585],{3905:(e,t,l)=>{l.d(t,{Zo:()=>p,kt:()=>k});var n=l(7294);function a(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function o(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function r(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?o(Object(l),!0).forEach((function(t){a(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function i(e,t){if(null==e)return{};var l,n,a=function(e,t){if(null==e)return{};var l,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||(a[l]=e[l]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}var g=n.createContext({}),s=function(e){var t=n.useContext(g),l=t;return e&&(l="function"==typeof e?e(t):r(r({},t),e)),l},p=function(e){var t=s(e.components);return n.createElement(g.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var l=e.components,a=e.mdxType,o=e.originalType,g=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(l),k=a,c=u["".concat(g,".").concat(k)]||u[k]||m[k]||o;return l?n.createElement(c,r(r({ref:t},p),{},{components:l})):n.createElement(c,r({ref:t},p))}));function k(e,t){var l=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=l.length,r=new Array(o);r[0]=u;var i={};for(var g in t)hasOwnProperty.call(t,g)&&(i[g]=t[g]);i.originalType=e,i.mdxType="string"==typeof e?e:a,r[1]=i;for(var s=2;s<o;s++)r[s]=l[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,l)}u.displayName="MDXCreateElement"},712:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>g,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var n=l(7462),a=(l(7294),l(3905));const o={title:"slog - \u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\uff0c\u6613\u6269\u5c55\u3001\u53ef\u914d\u7f6e\u7684\u65e5\u5fd7\u5e93",tags:["golang","gookit","log","logger"],date:"2022-06-16T21:00",slug:"gookit-slog-intro",authors:"inhere"},r=void 0,i={permalink:"/blog/gookit-slog-intro",editUrl:"https://github.com/inhere/inhere.github.io/tree/main/blog/2022/06-16-gookit-slog-intro.md",source:"@site/blog/2022/06-16-gookit-slog-intro.md",title:"slog - \u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\uff0c\u6613\u6269\u5c55\u3001\u53ef\u914d\u7f6e\u7684\u65e5\u5fd7\u5e93",description:"slog - Go \u5b9e\u73b0\u7684\u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\uff0c\u8f7b\u91cf\u7ea7\u3001\u53ef\u914d\u7f6e\u3001\u53ef\u6269\u5c55\u7684\u65e5\u5fd7\u5e93",date:"2022-06-16T21:00:00.000Z",formattedDate:"2022\u5e746\u670816\u65e5",tags:[{label:"golang",permalink:"/blog/tags/golang"},{label:"gookit",permalink:"/blog/tags/gookit"},{label:"log",permalink:"/blog/tags/log"},{label:"logger",permalink:"/blog/tags/logger"}],readingTime:2.685,hasTruncateMarker:!0,authors:[{name:"inhere",title:"docs maintainer",url:"https://github.com/inhere",imageURL:"https://github.com/inhere.png",key:"inhere"}],frontMatter:{title:"slog - \u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\uff0c\u6613\u6269\u5c55\u3001\u53ef\u914d\u7f6e\u7684\u65e5\u5fd7\u5e93",tags:["golang","gookit","log","logger"],date:"2022-06-16T21:00",slug:"gookit-slog-intro",authors:"inhere"},prevItem:{title:"gitw - Git \u547d\u4ee4\u5305\u88c5\u5668\uff0c\u751f\u6210 git \u53d8\u66f4\u8bb0\u5f55\u65e5\u5fd7",permalink:"/blog/gookit-gitw-intro"},nextItem:{title:"\u5b66\u4e60\u7f16\u5199bash\u547d\u4ee4\u81ea\u52a8\u8865\u5168",permalink:"/blog/2021/08/09/learn-bash-completion"}},g={authorsImageUrls:[void 0]},s=[{value:"\u529f\u80fd\u7279\u8272",id:"\u529f\u80fd\u7279\u8272",level:2},{value:"\u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6",id:"\u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6",level:3},{value:"Git \u4ed3\u5e93",id:"git-\u4ed3\u5e93",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u8bb0\u5f55\u5230\u6587\u4ef6",id:"\u8bb0\u5f55\u5230\u6587\u4ef6",level:2},{value:"\u66f4\u591a\u4f7f\u7528",id:"\u66f4\u591a\u4f7f\u7528",level:2}],p={toc:s};function m(e){let{components:t,...l}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"slog - Go \u5b9e\u73b0\u7684\u4e00\u4e2a\u6613\u4e8e\u4f7f\u7528\u7684\uff0c\u8f7b\u91cf\u7ea7\u3001\u53ef\u914d\u7f6e\u3001\u53ef\u6269\u5c55\u7684\u65e5\u5fd7\u5e93"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/gookit/slog/master/_example/images/console-log-all-level.png",alt:"image"})),(0,a.kt)("h2",{id:"\u529f\u80fd\u7279\u8272"},"\u529f\u80fd\u7279\u8272"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7b80\u5355\uff0c\u65e0\u9700\u914d\u7f6e\uff0c\u5f00\u7bb1\u5373\u7528"),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u5e38\u7528\u7684\u65e5\u5fd7\u7ea7\u522b\u5904\u7406",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5982\uff1a ",(0,a.kt)("inlineCode",{parentName:"li"},"trace")," ",(0,a.kt)("inlineCode",{parentName:"li"},"debug")," ",(0,a.kt)("inlineCode",{parentName:"li"},"info")," ",(0,a.kt)("inlineCode",{parentName:"li"},"notice")," ",(0,a.kt)("inlineCode",{parentName:"li"},"warn")," ",(0,a.kt)("inlineCode",{parentName:"li"},"error")," ",(0,a.kt)("inlineCode",{parentName:"li"},"fatal")," ",(0,a.kt)("inlineCode",{parentName:"li"},"panic")))),(0,a.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4efb\u610f\u6269\u5c55\u81ea\u5df1\u9700\u8981\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"Handler")," ",(0,a.kt)("inlineCode",{parentName:"li"},"Formatter")),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u540c\u65f6\u6dfb\u52a0\u591a\u4e2a ",(0,a.kt)("inlineCode",{parentName:"li"},"Handler")," \u65e5\u5fd7\u5904\u7406\uff0c\u8f93\u51fa\u65e5\u5fd7\u5230\u4e0d\u540c\u7684\u5730\u65b9"),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u81ea\u5b9a\u4e49\u6784\u5efa ",(0,a.kt)("inlineCode",{parentName:"li"},"Handler")," \u5904\u7406\u5668",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5185\u7f6e\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"handler.Config")," ",(0,a.kt)("inlineCode",{parentName:"li"},"handler.Builder"),",\u53ef\u4ee5\u65b9\u4fbf\u5feb\u6377\u7684\u6784\u5efa\u60f3\u8981\u7684\u65e5\u5fd7\u5904\u7406\u5668"))),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u81ea\u5b9a\u4e49 ",(0,a.kt)("inlineCode",{parentName:"li"},"Formatter")," \u683c\u5f0f\u5316\u5904\u7406",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5185\u7f6e\u4e86 ",(0,a.kt)("inlineCode",{parentName:"li"},"json")," ",(0,a.kt)("inlineCode",{parentName:"li"},"text")," \u4e24\u4e2a\u65e5\u5fd7\u8bb0\u5f55\u683c\u5f0f\u5316 ",(0,a.kt)("inlineCode",{parentName:"li"},"Formatter")))),(0,a.kt)("li",{parentName:"ul"},"\u5df2\u7ecf\u5185\u7f6e\u4e86\u5e38\u7528\u7684\u65e5\u5fd7\u5904\u7406\u5668",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"console")," \u8f93\u51fa\u65e5\u5fd7\u5230\u63a7\u5236\u53f0\uff0c\u652f\u6301\u8272\u5f69\u8f93\u51fa"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"writer")," \u8f93\u51fa\u65e5\u5fd7\u5230\u6307\u5b9a\u7684 ",(0,a.kt)("inlineCode",{parentName:"li"},"io.Writer")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"file")," \u8f93\u51fa\u65e5\u5fd7\u5230\u6307\u5b9a\u6587\u4ef6\uff0c\u53ef\u9009\u542f\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"buffer")," \u7f13\u51b2\u5199\u5165"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"simple")," \u8f93\u51fa\u65e5\u5fd7\u5230\u6307\u5b9a\u6587\u4ef6\uff0c\u65e0\u7f13\u51b2\u76f4\u63a5\u5199\u5165\u6587\u4ef6"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"rotate_file")," \u8f93\u51fa\u65e5\u5fd7\u5230\u6307\u5b9a\u6587\u4ef6\uff0c\u5e76\u4e14\u540c\u65f6\u652f\u6301\u6309\u65f6\u95f4\u3001\u6309\u5927\u5c0f\u5206\u5272\u6587\u4ef6\uff0c\u9ed8\u8ba4\u542f\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"buffer")," \u7f13\u51b2\u5199\u5165"),(0,a.kt)("li",{parentName:"ul"},"\u66f4\u591a\u5185\u7f6e\u5b9e\u73b0\u8bf7\u67e5\u770b ./handler \u6587\u4ef6\u5939")))),(0,a.kt)("h3",{id:"\u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6"},"\u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u542f\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"buffer")," \u7f13\u51b2\u65e5\u5fd7\u5199\u5165"),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u6309\u65f6\u95f4\u3001\u6309\u5927\u5c0f\u81ea\u52a8\u5206\u5272\u6587\u4ef6"),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u914d\u7f6e\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"li"},"gzip")," \u538b\u7f29\u65e5\u5fd7\u6587\u4ef6"),(0,a.kt)("li",{parentName:"ul"},"\u652f\u6301\u6e05\u7406\u65e7\u65e5\u5fd7\u6587\u4ef6 \u914d\u7f6e: ",(0,a.kt)("inlineCode",{parentName:"li"},"BackupNum")," ",(0,a.kt)("inlineCode",{parentName:"li"},"BackupTime"))),(0,a.kt)("h2",{id:"git-\u4ed3\u5e93"},"Git \u4ed3\u5e93"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Github: ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/gookit/slog"},"https://github.com/gookit/slog")),(0,a.kt)("li",{parentName:"ul"},"Gitee: ",(0,a.kt)("a",{parentName:"li",href:"https://gitee.com/gookit/slog"},"https://gitee.com/gookit/slog"))),(0,a.kt)("h2",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/gookit/slog\n")),(0,a.kt)("h2",{id:"\u5feb\u901f\u5f00\u59cb"},"\u5feb\u901f\u5f00\u59cb"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "github.com/gookit/slog"\n)\n\nfunc main() {\n    slog.Trace("this is a log message")\n    slog.Debug("this is a log message")\n    slog.Info("this is a log message")\n    slog.Notice("this is a log message")\n    slog.Warn("this is a log message")\n    slog.Error("this is a log message")\n    slog.Fatal("this is a log message")\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u63a7\u5236\u53f0\u65e5\u5fd7\u6548\u679c:")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/gookit/slog/master/_example/images/console-log-all-level.png",alt:"image"})),(0,a.kt)("h2",{id:"\u8bb0\u5f55\u5230\u6587\u4ef6"},"\u8bb0\u5f55\u5230\u6587\u4ef6"),(0,a.kt)("p",null,"\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"slog")," \u8f93\u51fa\u65e5\u5fd7\u5230\u6587\u4ef6\u975e\u5e38\u65b9\u4fbf\uff0c\u5e76\u4e14\u652f\u6301\u591a\u6587\u4ef6\uff0c\u6309\u65f6\u95f4\u5206\u5272\u7b49"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "github.com/gookit/slog"\n    "github.com/gookit/slog/handler"\n    "github.com/gookit/slog/rotatefile"\n)\n\nfunc main() {\n    defer slog.MustFlush()\n\n    // DangerLevels \u5305\u542b: slog.PanicLevel, slog.ErrorLevel, slog.WarnLevel\n    h1 := handler.MustRotateFile("/tmp/logs/app_error.log", rotatefile.EveryHour,\n        handler.WithLogLevels(slog.DangerLevels),\n    )\n\n    // NormalLevels \u5305\u542b: slog.InfoLevel, slog.NoticeLevel, slog.DebugLevel, slog.TraceLevel\n    h2 := handler.MustRotateFile("/tmp/logs/app_info.log", rotatefile.EveryHour,\n        handler.WithLogLevels(slog.NormalLevels),\n    )\n\n    slog.PushHandler(h1)\n    slog.PushHandler(h2)\n\n    // add logs\n    slog.Info("info message text")\n    slog.Error("error message text")\n}\n')),(0,a.kt)("p",null,"\u67e5\u770b\u65e5\u5fd7\u76ee\u5f55:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ ls /tmp/logs\napp_error.log\napp_info.log\n")),(0,a.kt)("h2",{id:"\u66f4\u591a\u4f7f\u7528"},"\u66f4\u591a\u4f7f\u7528"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u66f4\u591a\u4f7f\u7528\u8bf4\u660e\u8bf7\u770b README ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/gookit/slog/blob/master/README.zh-CN.md"},"https://github.com/gookit/slog/blob/master/README.zh-CN.md"))))}m.isMDXComponent=!0}}]);