<!doctype html><html lang=zh-Hans><head><meta charset=UTF-8><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://inhere.github.io name=base><title>
Inhere's Site â€¢ gookit/goutil - å‘å¸ƒ v0.6.10 ç‰ˆæœ¬, Goå¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“</title><link href=https://inhere.github.io/icons/favicon.ico rel=icon type=image/png><link title="Inhere's Site - Atom Feed" href=https://inhere.github.io/atom.xml rel=alternate type=application/atom+xml><link href="https://inhere.github.io/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://inhere.github.io/main.css?h=045c365e19a4d50a64bb" rel=stylesheet><link href="https://inhere.github.io/custom.css?h=b0b090835487d694b863" rel=stylesheet><link href="https://inhere.github.io/skins/blue.css?h=a4dc1e94d3f5759784d2" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="gookit/goutil Go å¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“ã€‚åŒ…å«ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œslice/æ•°ç»„ï¼ŒMapï¼Œç»“æ„ä½“ï¼Œåå°„ï¼Œæ–‡æœ¬ï¼Œæ–‡ä»¶ï¼Œé”™è¯¯ï¼Œæ—¶é—´æ—¥æœŸï¼Œæµ‹è¯•ï¼ŒCLIï¼Œå‘½ä»¤è¿è¡Œï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œæ ¼å¼åŒ–ï¼Œå¸¸ç”¨ä¿¡æ¯è·å–ç­‰ç­‰ã€‚â€¦" name=description><meta content="gookit/goutil Go å¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“ã€‚åŒ…å«ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œslice/æ•°ç»„ï¼ŒMapï¼Œç»“æ„ä½“ï¼Œåå°„ï¼Œæ–‡æœ¬ï¼Œæ–‡ä»¶ï¼Œé”™è¯¯ï¼Œæ—¶é—´æ—¥æœŸï¼Œæµ‹è¯•ï¼ŒCLIï¼Œå‘½ä»¤è¿è¡Œï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œæ ¼å¼åŒ–ï¼Œå¸¸ç”¨ä¿¡æ¯è·å–ç­‰ç­‰ã€‚â€¦" property=og:description><meta content="gookit/goutil - å‘å¸ƒ v0.6.10 ç‰ˆæœ¬, Goå¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“" property=og:title><meta content=article property=og:type><meta content=zh_CN property=og:locale><meta content=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/ property=og:url><meta content="Inhere's Site" property=og:site_name><noscript><link href=https://inhere.github.io/no_js.css rel=stylesheet></noscript><script src=https://inhere.github.io/js/initializeTheme.min.js></script><script defer src=https://inhere.github.io/js/themeSwitcher.min.js></script><body><a href=#main-content id=skip-link>è·³åˆ°å†…å®¹</a><header><nav class=navbar><div class=nav-title><a class=home-title href=https://inhere.github.io/>Inhere's Site</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/blog/>ğŸ“ Blog </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/projects/>ğŸš€ Projects </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/collections/>ğŸ“š Collections </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/tags/>ğŸ·ï¸ Tags </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/archive/>ğŸ—„ï¸ Archive </a><li><a class="nav-links no-hover-padding" href=https://github.com/inhere>ğŸ± Github </a><li class=menu-icons-container><ul class=menu-icons-group><li class="theme-switcher-wrapper js"><div aria-label=åˆ‡æ¢åˆ°æš—æ¨¡å¼ aria-pressed=false class=theme-switcher role=button tabindex=0 title=åˆ‡æ¢åˆ°æš—/äº®æ¨¡å¼></div><div class="theme-resetter arrow" aria-hidden=true aria-label=å°†æ¨¡å¼é‡ç½®ä¸ºç½‘ç«™é»˜è®¤å€¼ role=button tabindex=0 title=å°†æ¨¡å¼é‡ç½®ä¸ºç½‘ç«™é»˜è®¤å€¼></div></ul></ul></div></nav></header><div class=content id=main-content><main><article class=h-entry><h1 class="p-name article-title">gookit/goutil - å‘å¸ƒ v0.6.10 ç‰ˆæœ¬, Goå¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“</h1><a class="u-url u-uid" href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/></a><ul class=meta><span class="hidden p-author h-card"> <a class=u-url href=https://inhere.github.io rel=author title=Inhere>Inhere</a> </span><li><time class=dt-published datetime=2023-06-28T14:55:00>28 6æœˆ 2023</time><li title="977 å­—"><span aria-hidden=true class=separator>â€¢</span>5 åˆ†é’Ÿé˜…è¯»<li class=tag><span aria-hidden=true class=separator>â€¢</span>æ ‡ç­¾:Â <li class=tag><a class=p-category href=https://inhere.github.io/tags/gookit/>gookit</a>,Â <li class=tag><a class=p-category href=https://inhere.github.io/tags/golang/>golang</a>,Â <li class=tag><a class=p-category href=https://inhere.github.io/tags/goutil/>goutil</a></ul><section class="e-content body"><p><code>gookit/goutil</code> Go å¸¸ç”¨åŠŸèƒ½çš„æ‰©å±•å·¥å…·åº“ã€‚åŒ…å«ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œslice/æ•°ç»„ï¼ŒMapï¼Œç»“æ„ä½“ï¼Œåå°„ï¼Œæ–‡æœ¬ï¼Œæ–‡ä»¶ï¼Œé”™è¯¯ï¼Œæ—¶é—´æ—¥æœŸï¼Œæµ‹è¯•ï¼ŒCLIï¼Œå‘½ä»¤è¿è¡Œï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œæ ¼å¼åŒ–ï¼Œå¸¸ç”¨ä¿¡æ¯è·å–ç­‰ç­‰ã€‚</p><span id=continue-reading></span><blockquote><p><strong>Github</strong>: https://github.com/gookit/goutil</blockquote><h2 id=v0-6-10-geng-xin-ji-lu><a aria-label="Anchor link for: v0-6-10-geng-xin-ji-lu" class="header-anchor no-hover-padding" href=#v0-6-10-geng-xin-ji-lu><span aria-hidden=true class=link-icon></span></a> v0.6.10 æ›´æ–°è®°å½•</h2><blockquote><p>å®Œæ•´å˜æ›´æ—¥å¿— <a rel="noopener nofollow noreferrer" class=external href=https://github.com/gookit/goutil/compare/v0.6.9...v0.6.10 target=_blank>v0.6.9â€¦v0.6.10</a></blockquote><h3 id=sparkles-xin-gong-neng><a aria-label="Anchor link for: sparkles-xin-gong-neng" class="header-anchor no-hover-padding" href=#sparkles-xin-gong-neng><span aria-hidden=true class=link-icon></span></a> âœ¨ æ–°åŠŸèƒ½</h3><ul><li>âœ¨ feat: testutil - æ·»åŠ æ–°çš„å­åŒ… <code>fakeobj</code> ä»¥åˆ›å»ºå‡å¯¹è±¡ç”¨äºæµ‹è¯•<li>âœ¨ feat: testutil - æ·»åŠ æ–°çš„å‡½æ•° <code>NewEchoServer()</code> æ¥å¯åŠ¨echoæœåŠ¡å™¨<li>âœ¨ feat: byteutil - Buffer æ–°å¢æ›´å¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œæ–¹ä¾¿ä½¿ç”¨<li>âœ¨ feat: dump - ç‰¹æ®Šå¤„ç†è‡ªå®šä¹‰çš„ intã€uint ç±»å‹å€¼ï¼Œå°†ä¼šæ‰“å° String æ ¼å¼çš„è¯´æ˜<li>âœ¨ feat: fsutil - æ·»åŠ æ–°çš„å‡½æ•° <code>Glob()</code> å¿«é€Ÿåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶<li>â™»ï¸ feat: httpreq - é‡æ„å†…ç½®çš„ http å®¢æˆ·ç«¯ <code>httpreq</code> é€»è¾‘</ul><h3 id=necktie-geng-xin-diao-zheng><a aria-label="Anchor link for: necktie-geng-xin-diao-zheng" class="header-anchor no-hover-padding" href=#necktie-geng-xin-diao-zheng><span aria-hidden=true class=link-icon></span></a> ğŸ‘” æ›´æ–°è°ƒæ•´</h3><ul><li>ğŸ‘” up: structs - æ›´æ–° <code>InitDefaults()</code> å¯¹ä¸ä¸ºç©ºçš„ç»“æ„ä½“åˆ‡ç‰‡å­—æ®µçš„åˆå§‹åŒ–æ”¯æŒ<li>ğŸ‘” up: maputil - <code>SimpleMerge()</code> æ”¯æŒæ·±åº¦åˆå¹¶ map[string]any æ•°æ®</ul><h3 id=qi-ta-diao-zheng><a aria-label="Anchor link for: qi-ta-diao-zheng" class="header-anchor no-hover-padding" href=#qi-ta-diao-zheng><span aria-hidden=true class=link-icon></span></a> å…¶ä»–è°ƒæ•´</h3><ul><li>âœ… test: æ›´æ–°ä¸€äº›æ–‡æ¡£å¹¶ä¿®å¤ä¸€äº›å•å…ƒæµ‹è¯•<li>â¬†ï¸ dep: æ›´æ–° golang.org/x ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬</ul><h3 id=bu-fen-xin-zeng-gong-neng-shi-yong><a aria-label="Anchor link for: bu-fen-xin-zeng-gong-neng-shi-yong" class="header-anchor no-hover-padding" href=#bu-fen-xin-zeng-gong-neng-shi-yong><span aria-hidden=true class=link-icon></span></a> éƒ¨åˆ†æ–°å¢åŠŸèƒ½ä½¿ç”¨</h3><h4 id=dump-da-yin-zi-ding-yi-lei-xing><a aria-label="Anchor link for: dump-da-yin-zi-ding-yi-lei-xing" class="header-anchor no-hover-padding" href=#dump-da-yin-zi-ding-yi-lei-xing><span aria-hidden=true class=link-icon></span></a> dump æ‰“å°è‡ªå®šä¹‰ç±»å‹</h4><p>dump ç‰¹æ®Šå¤„ç†è‡ªå®šä¹‰çš„ intã€uint ç±»å‹å€¼ï¼Œå°†ä¼šæ‰“å° String æ ¼å¼çš„è¯´æ˜<p><img alt="dump custom_type.png" src=https://raw.githubusercontent.com/gookit/goutil/v0.6.10/dump/_examples/custom_type.png><h4 id=chu-shi-hua-jie-gou-ti><a aria-label="Anchor link for: chu-shi-hua-jie-gou-ti" class="header-anchor no-hover-padding" href=#chu-shi-hua-jie-gou-ti><span aria-hidden=true class=link-icon></span></a> åˆå§‹åŒ–ç»“æ„ä½“</h4><ul><li>æ”¯æŒåˆå§‹åŒ–ä½¿ç”¨ç¯å¢ƒå˜é‡<li>æ”¯æŒåˆå§‹åŒ– slice å­—æ®µï¼ŒåµŒå¥—ç»“æ„ä½“</ul><pre class="language-go z-code" data-lang=go><code class=language-go data-lang=go><span class="z-source z-go"><span class="z-storage z-type z-keyword z-type z-go">type</span> <span class="z-entity z-name z-type z-go">ExtraDefault</span> <span class="z-storage z-type z-keyword z-struct z-go">struct</span> <span class="z-meta z-type z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go">    <span class="z-variable z-other z-member z-declaration z-go">City</span>   <span class="z-storage z-type z-go"><span class="z-support z-type z-builtin z-go">string</span></span> <span class="z-string z-quoted z-other z-go"><span class="z-punctuation z-definition z-string z-begin z-go">`</span>default:"some where"<span class="z-punctuation z-definition z-string z-end z-go">`</span></span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go">    <span class="z-variable z-other z-member z-declaration z-go">Github</span> <span class="z-storage z-type z-go"><span class="z-support z-type z-builtin z-go">string</span></span> <span class="z-string z-quoted z-other z-go"><span class="z-punctuation z-definition z-string z-begin z-go">`</span>default:"${ GITHUB_ADDR }"<span class="z-punctuation z-definition z-string z-end z-go">`</span></span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-storage z-type z-keyword z-type z-go">type</span> <span class="z-entity z-name z-type z-go">User</span> <span class="z-storage z-type z-keyword z-struct z-go">struct</span> <span class="z-meta z-type z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go">    <span class="z-variable z-other z-member z-declaration z-go">Name</span>  <span class="z-storage z-type z-go"><span class="z-support z-type z-builtin z-go">string</span></span>        <span class="z-string z-quoted z-other z-go"><span class="z-punctuation z-definition z-string z-begin z-go">`</span>default:"inhere"<span class="z-punctuation z-definition z-string z-end z-go">`</span></span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go">    <span class="z-variable z-other z-member z-declaration z-go">Age</span>   <span class="z-storage z-type z-go"><span class="z-support z-type z-builtin z-go">int</span></span>           <span class="z-string z-quoted z-other z-go"><span class="z-punctuation z-definition z-string z-begin z-go">`</span>default:"300"<span class="z-punctuation z-definition z-string z-end z-go">`</span></span>
</span></span><span class="z-source z-go"><span class="z-meta z-type z-go">    <span class="z-variable z-other z-member z-declaration z-go">Extra</span> <span class="z-keyword z-operator z-go">*</span><span class="z-storage z-type z-go">ExtraDefault</span> <span class="z-string z-quoted z-other z-go"><span class="z-punctuation z-definition z-string z-begin z-go">`</span>default:""<span class="z-punctuation z-definition z-string z-end z-go">`</span></span> <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> æ ‡è®°éœ€è¦åˆå§‹åŒ–
</span></span></span><span class="z-source z-go"><span class="z-meta z-type z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-variable z-declaration z-go">optFn</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-storage z-type z-keyword z-function z-go">func</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-parameter z-go">opt</span> <span class="z-keyword z-operator z-go">*</span><span class="z-variable z-other z-go">structs</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-storage z-type z-go">InitOptions</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">opt</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">ParseEnv</span> <span class="z-keyword z-operator z-assignment z-go">=</span> <span class="z-constant z-language z-go">true</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-variable z-declaration z-go">obj</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-keyword z-operator z-go">&</span><span class="z-variable z-other z-go">User</span><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go"><span class="z-variable z-declaration z-go">err</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">structs</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">InitDefaults</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">obj</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">optFn</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go"><span class="z-variable z-other z-go">goutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">PanicErr</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">err</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-variable z-other z-go">dump</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">P</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">obj</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></code></pre><p><strong>åˆå§‹åŒ–ç»“æœ</strong>:<pre class="language-go z-code" data-lang=go><code class=language-go data-lang=go><span class="z-source z-go"><span class="z-keyword z-operator z-go">&</span><span class="z-variable z-other z-go">structs_test</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">User</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">  <span class="z-variable z-other z-go">Name</span><span class="z-punctuation z-separator z-go">:</span> <span class="z-variable z-function z-go"><span class="z-support z-type z-builtin z-go">string</span></span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>inhere<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-separator z-go">,</span> #<span class="z-variable z-other z-go">len</span><span class="z-keyword z-operator z-assignment z-go">=</span><span class="z-constant z-numeric z-integer z-decimal z-go">6</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">  <span class="z-variable z-other z-go">Age</span><span class="z-punctuation z-separator z-go">:</span> <span class="z-variable z-function z-go"><span class="z-support z-type z-builtin z-go">int</span></span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-constant z-numeric z-integer z-decimal z-go">300</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-separator z-go">,</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">  <span class="z-variable z-other z-go">Extra</span><span class="z-punctuation z-separator z-go">:</span> <span class="z-keyword z-operator z-go">&</span><span class="z-variable z-other z-go">structs_test</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">ExtraDefault</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">City</span><span class="z-punctuation z-separator z-go">:</span> <span class="z-variable z-function z-go"><span class="z-support z-type z-builtin z-go">string</span></span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>some where<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-separator z-go">,</span> #<span class="z-variable z-other z-go">len</span><span class="z-keyword z-operator z-assignment z-go">=</span><span class="z-constant z-numeric z-integer z-decimal z-go">10</span>
</span></span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">Github</span><span class="z-punctuation z-separator z-go">:</span> <span class="z-variable z-function z-go"><span class="z-support z-type z-builtin z-go">string</span></span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>https://some .... url<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-separator z-go">,</span> #<span class="z-variable z-other z-go">len</span><span class="z-keyword z-operator z-assignment z-go">=</span><span class="z-constant z-numeric z-integer z-decimal z-go">21</span>
</span></span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-meta z-block z-go">  <span class="z-punctuation z-section z-braces z-end z-go">}</span></span><span class="z-punctuation z-separator z-go">,</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span><span class="z-punctuation z-separator z-go">,</span>
</span></code></pre><h4 id=shi-yong-echo-server-ce-shi><a aria-label="Anchor link for: shi-yong-echo-server-ce-shi" class="header-anchor no-hover-padding" href=#shi-yong-echo-server-ce-shi><span aria-hidden=true class=link-icon></span></a> ä½¿ç”¨ echo server æµ‹è¯•</h4><p>ä½¿ç”¨ <code>testutil.NewEchoServer()</code> å¯ä»¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªHTTP echo server. æ–¹ä¾¿æµ‹è¯•HTTPè¯·æ±‚ï¼Œå“åº”ç­‰ã€‚<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š<pre class="language-go z-code" data-lang=go data-name=example_test.go><code class=language-go data-lang=go data-name=example_test.go><span class="z-source z-go"><span class="z-storage z-type z-keyword z-var z-go">var</span> <span class="z-variable z-declaration z-go">testSrvAddr</span> <span class="z-storage z-type z-go"><span class="z-support z-type z-builtin z-go">string</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-storage z-type z-keyword z-function z-go">func</span> <span class="z-entity z-name z-function z-go">TestMain</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-parameter z-go">m</span> <span class="z-keyword z-operator z-go">*</span><span class="z-variable z-other z-go">testing</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-storage z-type z-go">M</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-declaration z-go">s</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">testutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">NewEchoServer</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-keyword z-control z-go">defer</span> <span class="z-variable z-other z-go">s</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Close</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">testSrvAddr</span> <span class="z-keyword z-operator z-assignment z-go">=</span> <span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>http://<span class="z-punctuation z-definition z-string z-end z-go">"</span></span> <span class="z-keyword z-operator z-go">+</span> <span class="z-variable z-other z-go">s</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">Listener</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Addr</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">String</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">fmt</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Println</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>server addr:<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">testSrvAddr</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">m</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Run</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-storage z-type z-keyword z-function z-go">func</span> <span class="z-entity z-name z-function z-go">TestNewEchoServer</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-parameter z-go">t</span> <span class="z-keyword z-operator z-go">*</span><span class="z-variable z-other z-go">testing</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-storage z-type z-go">T</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> å¯ç›´æ¥è¯·æ±‚æµ‹è¯•server
</span></span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-declaration z-go">r</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-declaration z-go">err</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">http</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Post</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">testSrvAddr</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>text/plain<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">strings</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">NewReader</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>hello!<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">assert</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">NoErr</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">t</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">err</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> å°†å“åº”ä¿¡æ¯ç»‘å®šåˆ° testutil.EchoReply
</span></span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-declaration z-go">rr</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">testutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">ParseRespToReply</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">r</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">dump</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">P</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">rr</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">assert</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Eq</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">t</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>POST<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">rr</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">Method</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">assert</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Eq</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">t</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>text/plain<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">rr</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">ContentType</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">assert</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Eq</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">t</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>hello!<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">rr</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">Body</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span></code></pre><h2 id=v0-6-9-geng-xin-ji-lu><a aria-label="Anchor link for: v0-6-9-geng-xin-ji-lu" class="header-anchor no-hover-padding" href=#v0-6-9-geng-xin-ji-lu><span aria-hidden=true class=link-icon></span></a> v0.6.9 æ›´æ–°è®°å½•</h2><blockquote><p>å®Œæ•´å˜æ›´æ—¥å¿— <a rel="noopener nofollow noreferrer" class=external href=https://github.com/gookit/goutil/compare/v0.6.8...v0.6.9 target=_blank>v0.6.8â€¦v0.6.9</a></blockquote><h3 id=sparkles-xin-gong-neng-1><a aria-label="Anchor link for: sparkles-xin-gong-neng-1" class="header-anchor no-hover-padding" href=#sparkles-xin-gong-neng-1><span aria-hidden=true class=link-icon></span></a> âœ¨ æ–°åŠŸèƒ½</h3><ul><li>strutil - æ–°å¢ <code>ToByteSize(),SafeByteSize()</code> ç”¨äºå°†å¤§å°å­—ç¬¦ä¸²(eg: 5MB)è½¬æ¢ä¸ºå­—èŠ‚å¤§å°<li>strutil æ–°å¢ <code>ParseSizeRange()</code> æ–¹ä¾¿å¿«é€Ÿçš„è§£æå­—ç¬¦ä¸²å¤§å°èŒƒå›´è¡¨è¾¾å¼ egï¼š<code>200kb~50mb</code><li>strutil - æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°: <code>DatetimeNo()ï¼ŒRandWithTpl(), SimpleMatch()</code><li>byteutil - æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°: <code>Random()</code>, <code>AppendAny()</code><li>fsutil - æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°: <code>ReadOrErr()</code>, <code>ReadStringOrErr()</code><li>cliutil - æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°: <code>Confirm()</code>, <code>ReadAsBool()</code><li>errorx - æ·»åŠ æ–°çš„å·¥å…·å‡½æ•° <code>Err(), Errf()</code> æ–¹ä¾¿åˆ›å»º error<li>structs - <code>InitDefaults()</code> å¢å¼ºï¼Œæ”¯æŒåµŒå¥—ç»“æ„ä½“æŒ‡é’ˆåˆå§‹åŒ–<li>structs - <code>SetValues()</code> å¢å¼ºï¼Œæ”¯æŒè®¾ç½®å¤„ç†ç»“æ„ä½“æŒ‡é’ˆå€¼<li>structs - æ–°å¢ <code>ToSMap(), TryToSMap(), TryToSMap()</code> è½¬æ¢ç»“æ„ä½“ä¸ºstring map<li>testutil/assert æ–°å¢æ–­è¨€æ–¹æ³• <code>NotContainsKey()</code>, <code>NotContainsKeys()</code><li>reflects æ–°å¢å·¥å…·æ–¹æ³• <code>UnexportedValue()</code>, <code>SetUnexportedValue()</code><li>maputil æ–°å¢å·¥å…·å‡½æ•° <code>HasOneKey(), CombineToMap(), TryAnyMap()</code><li>arrutil æ–°å¢å·¥å…·å‡½æ•° <code>AnyToSlice(), CombineToMap()</code><li>jsonutil æ–°å¢å·¥å…·æ–¹æ³• <code>IsJSON(), IsJSONFast()</code> æ£€æŸ¥æ˜¯å¦æ˜¯JSON<li>â™»ï¸ fsutil/finder æ–‡ä»¶ã€ç›®å½•æŸ¥æ‰¾é‡æ„ï¼ŒåŠŸèƒ½å¢å¼ºï¼Œä½¿ç”¨æ›´åŠ æ–¹ä¾¿<li>timex æ–°å¢å·¥å…·å‡½æ•° <code>NowAddSec(), IsDuration(), InRange()</code><li>timex <code>ToDuration()</code> å¢å¼ºï¼Œæ”¯æŒå•ä½ dï¼Œw å’Œé•¿å•ä½ hourã€minã€sec<li>mathutil æ–°å¢å·¥å…·æ–¹æ³• <code>InRange()</code>, <code>OutRange()</code>, <code>InUintRange()</code><li>fsutil æ–°å¢å·¥å…·æ–¹æ³• <code>RemoveSub()</code> å¿«é€Ÿåˆ é™¤å­ç›®å½•å’Œæ–‡ä»¶<li>maputil <code>GetByPath()</code> å¢å¼ºï¼Œæ”¯æŒç±»ä¼¼ <code>top.*.field</code> åŒ¹é…è·¯å¾„è·å–å€¼</ul><h3 id=necktie-geng-xin-diao-zheng-1><a aria-label="Anchor link for: necktie-geng-xin-diao-zheng-1" class="header-anchor no-hover-padding" href=#necktie-geng-xin-diao-zheng-1><span aria-hidden=true class=link-icon></span></a> ğŸ‘” æ›´æ–°è°ƒæ•´</h3><ul><li>strutil ä¼˜åŒ– <code>ToByteSize()</code> å’Œ <code>GlobMatch()</code> é€»è¾‘<li>struts - InitDefaults() æ”¯æŒåˆå§‹åŒ–éé›¶ ptr å­ç»“æ„å­—æ®µ<li>ğŸ’¥ struts - InitDefaults() è¦åˆå§‹åŒ–å­ç»“æ„å­—æ®µå¿…é¡»å¸¦æœ‰ <code>default:""</code></ul><h3 id=qi-ta-diao-zheng-1><a aria-label="Anchor link for: qi-ta-diao-zheng-1" class="header-anchor no-hover-padding" href=#qi-ta-diao-zheng-1><span aria-hidden=true class=link-icon></span></a> å…¶ä»–è°ƒæ•´</h3><ul><li>ğŸ“ æ–‡æ¡£ï¼šREADME æ–‡æ¡£æ›´æ–°ï¼Œä¸€äº›å­åŒ…æ·»åŠ  README<li>âœ… test: æ–°å¢å¹¶ä¿®å¤ä¸€äº›å•å…ƒæµ‹è¯•<li>â¬†ï¸ dep: æ›´æ–° golang.org/x ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬</ul><h3 id=bu-fen-gong-neng-shi-yong-shi-li><a aria-label="Anchor link for: bu-fen-gong-neng-shi-yong-shi-li" class="header-anchor no-hover-padding" href=#bu-fen-gong-neng-shi-yong-shi-li><span aria-hidden=true class=link-icon></span></a> éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹</h3><h4 id=finder-wen-jian-cha-zhao-shi-yong><a aria-label="Anchor link for: finder-wen-jian-cha-zhao-shi-yong" class="header-anchor no-hover-padding" href=#finder-wen-jian-cha-zhao-shi-yong><span aria-hidden=true class=link-icon></span></a> finder æ–‡ä»¶æŸ¥æ‰¾ä½¿ç”¨</h4><p><code>fsutil/finder</code> æä¾›äº†ç®€å•å¿«é€Ÿçš„æ–¹å¼æŸ¥æ‰¾åŒ¹é…æ–‡ä»¶ã€ç›®å½•ã€‚<ul><li>å†…ç½®æ”¯æŒ åç§°ã€æ‰©å±•ã€åç¼€ã€å‰ç¼€ã€globã€path ç­‰åŒ…å«æˆ–æ’é™¤<li>æ”¯æŒåŒ¹é… æ–‡ä»¶å¤§å°ï¼Œä¿®æ”¹æ—¶é—´(ModTime)ç­‰æ‰©å±•åŒ¹é…æ–¹å¼</ul><pre class="language-go z-code" data-lang=go><code class=language-go data-lang=go><span class="z-source z-go"><span class="z-variable z-declaration z-go">ff</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">finder</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">NewFinder</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>/path/to/dir/<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span>
</span><span class="z-source z-go">    <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> OnlyFindDir(). // é»˜è®¤åªåªæŸ¥æ‰¾æ–‡ä»¶
</span></span><span class="z-source z-go">    <span class="z-variable z-function z-go">UseAbsPath</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span>
</span><span class="z-source z-go">    <span class="z-variable z-function z-go">WithoutDotDir</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span>
</span><span class="z-source z-go">    <span class="z-variable z-function z-go">WithDirName</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>testdata<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span>
</span><span class="z-source z-go">    <span class="z-variable z-function z-go">Include</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">finder</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">HumanModTime</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>&lt;10m<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-accessor z-dot z-go">.</span> <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> æœ€è¿‘10åˆ†é’Ÿæœ‰å˜åŠ¨çš„
</span></span><span class="z-source z-go">    <span class="z-variable z-function z-go">Include</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">finder</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">HumanSize</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>500kb~10mb<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> é™åˆ¶æ–‡ä»¶å¤§å°
</span></span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> Find() è¿”å›chan, å¯ä»¥ for å¤„ç†æŸ¥æ‰¾ç»“æœ
</span></span><span class="z-source z-go"><span class="z-keyword z-control z-go">for</span> <span class="z-variable z-declaration z-go">el</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-keyword z-other z-go">range</span> <span class="z-variable z-other z-go">f</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Find</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go">    <span class="z-variable z-other z-go">fmt</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Println</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">el</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Path</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-punctuation z-section z-parens z-end z-go">)</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></span><span class="z-source z-go"><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span></code></pre><h4 id=strutil-parsesizerange><a aria-label="Anchor link for: strutil-parsesizerange" class="header-anchor no-hover-padding" href=#strutil-parsesizerange><span aria-hidden=true class=link-icon></span></a> strutil.ParseSizeRange</h4><p>å¯ä»¥ç®€å•æ–¹ä¾¿çš„å°†å­—ç¬¦ä¸²å¤§å°èŒƒå›´è§£æä¸º byte size<pre class="language-go z-code" data-lang=go><code class=language-go data-lang=go><span class="z-source z-go"><span class="z-variable z-declaration z-go">opt</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-keyword z-operator z-go">&</span><span class="z-variable z-other z-go">strutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-other z-member z-go">ParseSizeOpt</span><span class="z-meta z-block z-go"><span class="z-punctuation z-section z-braces z-begin z-go">{</span><span class="z-punctuation z-section z-braces z-end z-go">}</span></span>
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-variable z-declaration z-go">mix</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-declaration z-go">max</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-declaration z-go">err</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-other z-go">strutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">ParseSizeRange</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>1kb~1mb<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">opt</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go"><span class="z-variable z-other z-go">goutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">PanicErr</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">err</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go"><span class="z-variable z-other z-go">fmt</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Println</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">min</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">max</span><span class="z-punctuation z-section z-parens z-end z-go">)</span> <span class="z-comment z-line z-go"><span class="z-punctuation z-definition z-comment z-go">//</span> OUTPUT: 1024, 1048576
</span></span></code></pre><p><strong>æ”¯æŒçš„è¡¨è¾¾å¼æ ¼å¼ç¤ºä¾‹ï¼š</strong><pre class="language-txt z-code" data-lang=txt><code class=language-txt data-lang=txt><span class="z-text z-plain">"1KB~2MB"       => 1KB to 2MB
</span><span class="z-text z-plain">"-1KB"          => &lt;1KB
</span><span class="z-text z-plain">"~1MB"          => &lt;1MB
</span><span class="z-text z-plain">"&lt; 1KB"         => &lt;1KB
</span><span class="z-text z-plain">"1KB"           => >1KB
</span><span class="z-text z-plain">"1KB~"          => >1KB
</span><span class="z-text z-plain">">1KB"          => >1KB
</span><span class="z-text z-plain">"+1KB"          => >1KB
</span></code></pre><h4 id=timex-parserange><a aria-label="Anchor link for: timex-parserange" class="header-anchor no-hover-padding" href=#timex-parserange><span aria-hidden=true class=link-icon></span></a> timex.ParseRange()</h4><p><code>timex.ParseRange()</code> å¯ä»¥ç®€å•å¿«é€Ÿçš„å°†ç›¸å¯¹çš„æ—¶é—´å¤§å°èŒƒå›´ã€æˆ–å…³é”®å­—è§£æä¸º time.Time<pre class="language-go z-code" data-lang=go><code class=language-go data-lang=go><span class="z-source z-go"><span class="z-variable z-declaration z-go">start</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-declaration z-go">end</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-declaration z-go">err</span> <span class="z-keyword z-operator z-assignment z-go">:=</span> <span class="z-variable z-function z-go">ParseRange</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-string z-quoted z-double z-go"><span class="z-punctuation z-definition z-string z-begin z-go">"</span>-1h~1h<span class="z-punctuation z-definition z-string z-end z-go">"</span></span><span class="z-punctuation z-separator z-go">,</span> <span class="z-constant z-language z-go">nil</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go"><span class="z-variable z-other z-go">goutil</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">PanicErr</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">err</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span><span class="z-source z-go">
</span><span class="z-source z-go">
</span><span class="z-source z-go"><span class="z-variable z-other z-go">fmt</span><span class="z-punctuation z-accessor z-dot z-go">.</span><span class="z-variable z-function z-go">Println</span><span class="z-punctuation z-section z-parens z-begin z-go">(</span><span class="z-variable z-other z-go">start</span><span class="z-punctuation z-separator z-go">,</span> <span class="z-variable z-other z-go">end</span><span class="z-punctuation z-section z-parens z-end z-go">)</span>
</span></code></pre><p><strong>æ”¯æŒçš„è¡¨è¾¾å¼æ ¼å¼ç¤ºä¾‹ï¼š</strong><pre class="language-txt z-code" data-lang=txt><code class=language-txt data-lang=txt><span class="z-text z-plain">"-5h~-1h"           => 5 hours ago to 1 hour ago
</span><span class="z-text z-plain">"1h~5h"             => 1 hour after to 5 hours after
</span><span class="z-text z-plain">"-1h~1h"            => 1 hour ago to 1 hour after
</span><span class="z-text z-plain">"-1h"               => 1 hour ago to feature. eq "-1h~"
</span><span class="z-text z-plain">"-1h~0"             => 1 hour ago to now.
</span><span class="z-text z-plain">"&lt; -1h" OR "~-1h"   => 1 hour ago.
</span><span class="z-text z-plain">"> 1h" OR "1h"      => 1 hour after to feature
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">// keyword: now, today, yesterday, tomorrow
</span><span class="z-text z-plain">"today"          => today start to today end
</span><span class="z-text z-plain">"yesterday"      => yesterday start to yesterday end
</span><span class="z-text z-plain">"tomorrow"       => tomorrow start to tomorrow end
</span></code></pre><h2 id=geng-duo-xin-xi><a aria-label="Anchor link for: geng-duo-xin-xi" class="header-anchor no-hover-padding" href=#geng-duo-xin-xi><span aria-hidden=true class=link-icon></span></a> æ›´å¤šä¿¡æ¯</h2><p>æ›´å¤šä½¿ç”¨è¯´æ˜è¯·çœ‹ <a rel="noopener nofollow noreferrer" class=external href=https://github.com/gookit/slog/blob/master/README.zh-CN.md target=_blank>README</a> ä»¥åŠç›¸å…³æ–¹æ³•çš„å•å…ƒæµ‹è¯•<blockquote><p><strong>Github</strong>: https://github.com/gookit/goutil</blockquote></section></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=button for=toc-toggle id=toc-button title=åˆ‡æ¢ç›®å½•><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#v0-6-10-geng-xin-ji-lu>v0.6.10 æ›´æ–°è®°å½•</a> <ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#sparkles-xin-gong-neng>âœ¨ æ–°åŠŸèƒ½</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#necktie-geng-xin-diao-zheng>ğŸ‘” æ›´æ–°è°ƒæ•´</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#qi-ta-diao-zheng>å…¶ä»–è°ƒæ•´</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#bu-fen-xin-zeng-gong-neng-shi-yong>éƒ¨åˆ†æ–°å¢åŠŸèƒ½ä½¿ç”¨</a> <ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#dump-da-yin-zi-ding-yi-lei-xing>dump æ‰“å°è‡ªå®šä¹‰ç±»å‹</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#chu-shi-hua-jie-gou-ti>åˆå§‹åŒ–ç»“æ„ä½“</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#shi-yong-echo-server-ce-shi>ä½¿ç”¨ echo server æµ‹è¯•</a></ul></ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#v0-6-9-geng-xin-ji-lu>v0.6.9 æ›´æ–°è®°å½•</a> <ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#sparkles-xin-gong-neng-1>âœ¨ æ–°åŠŸèƒ½</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#necktie-geng-xin-diao-zheng-1>ğŸ‘” æ›´æ–°è°ƒæ•´</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#qi-ta-diao-zheng-1>å…¶ä»–è°ƒæ•´</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#bu-fen-gong-neng-shi-yong-shi-li>éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹</a> <ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#finder-wen-jian-cha-zhao-shi-yong>finder æ–‡ä»¶æŸ¥æ‰¾ä½¿ç”¨</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#strutil-parsesizerange>strutil.ParseSizeRange</a><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#timex-parserange>timex.ParseRange()</a></ul></ul><li><a href=https://inhere.github.io/blog/2023/06-28-gookit-goutil-release-v0-6-10/#geng-duo-xin-xi>æ›´å¤šä¿¡æ¯</a></ul></div></div></div><a class=no-hover-padding href=# id=top-button title=è¿”å›é¡µé¢é¡¶éƒ¨> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> å·²å¤åˆ¶! </span><span class=hidden id=copy-init> å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ </span><script defer src=https://inhere.github.io/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://inhere.github.io/atom.xml target=_blank> <img alt=feed loading=lazy src=https://inhere.github.io/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://github.com/inhere/ target=_blank> <img alt=github loading=lazy src=https://inhere.github.io/social_icons/github.svg title=github> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/pages/about> ğŸ¶ About </a><li><a class="nav-links no-hover-padding" href=https://github.com/gookit> ğŸ± Gookit </a><li><a class="nav-links no-hover-padding" href=https://github.com/phppkg> ğŸ± PHPPkg </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/sitemap.xml> ğŸ“„ Sitemap </a></ul> </small></nav><div class=credits><small> ç½‘ç«™åŸºäº <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> å’Œ <a rel="noopener noreferrer" href=https://github.com/welpo/tabi target=_blank>tabi</a> â€¢ <a rel="noopener noreferrer" href=https://github.com/inhere/inhere.github.io target=_blank> æŸ¥çœ‹åŸå§‹ç  </a></small></div></section></footer>