<!doctype html><html lang=zh-Hans><head><meta charset=UTF-8><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://inhere.github.io name=base><title>
Inhere's Site • ZSH自动补全脚本编写</title><link href=https://inhere.github.io/icons/favicon.ico rel=icon type=image/png><link title="Inhere's Site - Atom Feed" href=https://inhere.github.io/atom.xml rel=alternate type=application/atom+xml><link href="https://inhere.github.io/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://inhere.github.io/main.css?h=045c365e19a4d50a64bb" rel=stylesheet><link href="https://inhere.github.io/custom.css?h=b0b090835487d694b863" rel=stylesheet><link href="https://inhere.github.io/skins/blue.css?h=a4dc1e94d3f5759784d2" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="
ZSH 自动补全脚本编写
告诉 zsh 使用哪个函数来完成命令
命令的完成函数存储在名称以下划线 _ 开头的文件中，这些文件应放置在 $fpath 变量中列出的目录中。
可以通过在 ~/.zshrc 文件中添加这样的行来向 $fpath 添加目录：
fpath=(~/newdir $fpath )
…" name=description><meta content="
ZSH 自动补全脚本编写
告诉 zsh 使用哪个函数来完成命令
命令的完成函数存储在名称以下划线 _ 开头的文件中，这些文件应放置在 $fpath 变量中列出的目录中。
可以通过在 ~/.zshrc 文件中添加这样的行来向 $fpath 添加目录：
fpath=(~/newdir $fpath )
…" property=og:description><meta content=ZSH自动补全脚本编写 property=og:title><meta content=article property=og:type><meta content=zh_CN property=og:locale><meta content=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/ property=og:url><meta content="Inhere's Site" property=og:site_name><noscript><link href=https://inhere.github.io/no_js.css rel=stylesheet></noscript><script src=https://inhere.github.io/js/initializeTheme.min.js></script><script defer src=https://inhere.github.io/js/themeSwitcher.min.js></script><body><a href=#main-content id=skip-link>跳到内容</a><header><nav class=navbar><div class=nav-title><a class=home-title href=https://inhere.github.io/>Inhere's Site</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/blog/>📝 Blog </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/projects/>🚀 Projects </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/collections/>📚 Collections </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/tags/>🏷️ Tags </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/archive/>🗄️ Archive </a><li><a class="nav-links no-hover-padding" href=https://github.com/inhere>🐱 Github </a><li class=menu-icons-container><ul class=menu-icons-group><li class="theme-switcher-wrapper js"><div aria-label=切换到暗模式 aria-pressed=false class=theme-switcher role=button tabindex=0 title=切换到暗/亮模式></div><div class="theme-resetter arrow" aria-hidden=true aria-label=将模式重置为网站默认值 role=button tabindex=0 title=将模式重置为网站默认值></div></ul></ul></div></nav></header><div class=content id=main-content><main><article class=h-entry><h1 class="p-name article-title">ZSH自动补全脚本编写</h1><a class="u-url u-uid" href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/></a><ul class=meta><span class="hidden p-author h-card"> <a class=u-url href=https://inhere.github.io rel=author title=Inhere>Inhere</a> </span><li><time class=dt-published datetime=2021-07-28T22:04:00>28 7月 2021</time><li title="3099 字"><span aria-hidden=true class=separator>•</span>16 分钟阅读</ul><section class="e-content body"><h1 id=zsh-zi-dong-bu-quan-jiao-ben-bian-xie><a aria-label="Anchor link for: zsh-zi-dong-bu-quan-jiao-ben-bian-xie" class="header-anchor no-hover-padding" href=#zsh-zi-dong-bu-quan-jiao-ben-bian-xie><span aria-hidden=true class=link-icon></span></a> ZSH 自动补全脚本编写</h1><p>告诉 zsh 使用哪个函数来完成命令<p>命令的完成函数存储在名称以下划线 <code>_</code> 开头的文件中，这些文件应放置在 <code>$fpath</code> 变量中列出的目录中。 可以通过在 <code>~/.zshrc</code> 文件中添加这样的行来向 <code>$fpath</code> 添加目录：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-variable z-other z-readwrite z-assignment z-shell">fpath</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>/newdir <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">fpath</span></span> <span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span></code></pre><span id=continue-reading></span><p>完成函数文件的第一行看起来像这样：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> compdef foobar</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></code></pre><p>这告诉 zsh 该文件包含用于完成 foobar 命令的代码。这是第一行最常使用的格式，但如果需要，您也可以使用相同的文件来完成多个不同的功能。 请参阅<a rel="noopener nofollow noreferrer" class=external href=http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Autoloaded-files target=_blank>此处</a>了解更多详情。<p>你也可以直接使用 <code>compdef</code> 命令（例如在你的 <code>~/.zshrc</code> 文件中）告诉 zsh 使用哪个函数来完成这样的命令：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> compdef <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_function</span></span><span class="z-meta z-function-call z-arguments z-shell"> foobar</span>
</span></code></pre><p>或者对几个命令使用相同的完成：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> compdef <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_function</span></span><span class="z-meta z-function-call z-arguments z-shell"> foobar goocar hoodar</span>
</span></code></pre><p>或者如果你想提供参数：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> compdef <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span> _function arg1 arg2 <span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> foobar</span>
</span></code></pre><p>请参<a rel="noopener nofollow noreferrer" class=external href=http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Functions-4 target=_blank>阅此</a>处了解更多详情。<h2 id=bian-xie-zi-ji-de-wan-cheng-han-shu><a aria-label="Anchor link for: bian-xie-zi-ji-de-wan-cheng-han-shu" class="header-anchor no-hover-padding" href=#bian-xie-zi-ji-de-wan-cheng-han-shu><span aria-hidden=true class=link-icon></span></a> 编写自己的完成函数</h2><p>一个很好的入门方法是查看一些已经定义的完成函数。在我的 linux 安装中，这些可以在 <code>/usr/share/zsh/functions/Completion/Unix</code> 和 <code>/usr/share/zsh/functions/Completion/Linux</code> 和其他一些子目录中找到。<p>您会注意到 <code>_arguments</code> 函数在这些文件中被大量使用。这是一个实用函数，可以轻松编写简单的完成函数。<code>_arguments</code> 函数是 <code>compadd</code> 内置函数的包装器。<code>compadd</code> 内置函数是用于向命令行添加完成词并控制其行为的核心函数。 但是，大多数情况下您不需要使用 <code>compadd</code>，因为有许多实用函数，例如 <code>_arguments</code> 和 <code>_describe</code>，它们更易于使用。<p>对于非常基本的完成，<code>_describe</code> 函数应该足够了<h3 id=shi-yong-gong-neng><a aria-label="Anchor link for: shi-yong-gong-neng" class="header-anchor no-hover-padding" href=#shi-yong-gong-neng><span aria-hidden=true class=link-icon></span></a> 实用功能</h3><p>以下是一些可能有用的实用函数的列表。实用功能的完整列表以及完整的解释可在此处获得。下一节将给出如何使用这些函数的示例。<p><strong>整体完成的主要实用功能</strong><table><thead><tr><th>函数<th>说明<tbody><tr><td><code>_alternative</code><td>可用于从其他实用程序函数或 shell 代码生成完成候选。<tr><td><code>_arguments</code><td>用于指定如何完成带有 unix 样式选项的命令的单个选项和参数。<tr><td><code>_describe</code><td>用于创建由带有描述（但没有动作 <code>ACTION</code>）的单词组成的简单完成。比 <code>_arguments</code> 更容易使用<tr><td><code>_gnu_generic</code><td>可用于完成理解 <code>--help</code> 选项的命令的选项。<tr><td><code>_regex_arguments</code><td>创建一个函数，用于将命令行参数与正则表达式匹配，然后执行操作/完成。</table><p><strong>用于执行单个单词的复杂完成的函数</strong><table><thead><tr><th>函数<th>说明<tbody><tr><td><code>_values</code><td>用于完成任意关键字（值）及其参数，或此类组合的逗号分隔列表。<tr><td><code>_combination</code><td>用于完成值的组合，例如主机名和用户名对。<tr><td><code>_multi_parts</code><td>用于分别完成单词的多个部分，其中每个部分由一些字符分隔，例如用于完成部分文件路径：<code>/u/i/sy -> /usr/include/sys</code><tr><td><code>_sep_parts</code><td>与 _multi_parts 类似，但允许在完成的不同部分使用不同的分隔符。<tr><td><code>_sequence</code><td>用作另一个完成函数的包装器，以完成由该其他函数生成的分隔匹配列表。</table><p><strong>用于完成特定类型对象的函数</strong><table><thead><tr><th>函数<th>说明<tbody><tr><td><code>_path_files</code><td>用于完成文件路径。采取多种选择来控制行为。<tr><td><code>_files</code><td>使用除 <code>-g</code> 和 <code>-/</code> 之外的所有选项调用 <code>_path_files</code>。这些选项取决于文件模式样式设置。<tr><td><code>_net_interfaces</code><td>用于补全网络接口名称<tr><td><code>_users</code><td>用于填写用户名<tr><td><code>_groups</code><td>用于完成组名<tr><td><code>_options</code><td>用于补全 shell 选项的名称。<tr><td><code>_parameters</code><td>用于完成 shell 参数/变量的名称（可以限制为匹配模式的那些）</table><p><strong>处理缓存完成的函数</strong><p>如果您有大量完成，您可以将它们保存在缓存文件中，以便快速加载完成。<table><thead><tr><th>函数<th>说明<tbody><tr><td><code>_cache_invalid</code><td>指示与给定缓存标识符对应的完成缓存是否需要重建<tr><td><code>_retrieve_cache</code><td>从缓存文件中检索完成信息<tr><td><code>_store_cache</code><td>在缓存文件中存储与给定缓存标识符相对应的完成</table><p><strong>其他功能</strong><table><thead><tr><th>函数<th>说明<tbody><tr><td><code>_message</code><td>用于在无法生成完成的地方显示帮助消息。<tr><td><code>_regex_words</code><td>可用于为 <code>_regex_arguments</code> 命令生成参数。这比手动编写参数更容易。<tr><td><code>_guard</code><td>可用于 <code>_arguments</code> 的规范的 <code>ACTION</code> 和类似函数来检查正在完成的单词。</table><p><strong>动作 Action</strong><p>许多实用函数，例如 <code>_arguments</code> <code>_regex_arguments</code> <code>_alternative</code> 和 <code>_values</code> 可能在选项/参数规范的末尾包含一个动作。此动作指示如何完成相应的参数。动作 <code>Action</code> 可以采用以下形式之一：<table><thead><tr><th>函数<th>说明<tbody><tr><td><code>()</code><td>需要参数，但不会生成匹配项。<tr><td><code>(ITEM1 ITEM2)</code><td>可能匹配项列表<tr><td><code>((ITEM1\:'DESC1' ITEM2\:'DESC2'))</code><td>可能的匹配列表，附带描述信息。注意：Action 中的引号不能和其所在的参数格式字符串的引号相同<tr><td><code>->STRING</code><td>将<code>$state</code>设置为字符串并继续（<code>$state</code>可在实用功能调用后在案例陈述中检查）<tr><td><code>FUNCTION</code><td>用于生成匹配或执行某些其他操作的函数名称. 例如 <code>_files</code> 或 <code>_message</code><tr><td><code>{EVAL-STRING}</code><td>将字符串评估为 shell 代码以生成匹配项。这可用于调用带有参数的实用程序函数，例如 <code>_values</code> 或 <code>_describe</code><tr><td><code>=ACTION</code><td>在完成命令行中插入一个虚拟词而且不会改变补全位置节点</table><p>并非所有操作类型都可用于使用它们的所有实用功能。例如，->string 类型在_regex_arguments或_alternative功能中不可用。<h3 id=shi-yong-describe-bian-xie-jian-dan-de-wan-cheng-han-shu><a aria-label="Anchor link for: shi-yong-describe-bian-xie-jian-dan-de-wan-cheng-han-shu" class="header-anchor no-hover-padding" href=#shi-yong-describe-bian-xie-jian-dan-de-wan-cheng-han-shu><span aria-hidden=true class=link-icon></span></a> 使用 _describe 编写简单的完成函数</h3><p><code>_describe</code> 函数可用于简单的补全，其中选项/参数的顺序和位置并不重要。您只需要创建一个数组参数来保存选项及其描述，然后将参数名称作为参数传递给 <code>_describe</code>。下面的示例创建完成候选 c 和 d，以及描述（注意这应该放在 <code>$fpath</code> 中列出的某个目录中名为 <code>_cmd</code> 的文件中）。<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">compdef cmd</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">local</span> <span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">-</span>a</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">subcmds</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-variable z-other z-readwrite z-assignment z-shell">subcmds</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>c:description for c command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>d:description for d command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_describe</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> subcmds</span>
</span></code></pre><p>您可以使用以下由双连字符分隔的多个不同列表，但请注意，这混合了单个标题下的匹配项，并且不打算与不同类型的完成候选者一起使用：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">local</span> <span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">-</span>a</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">subcmds</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">topics</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-variable z-other z-readwrite z-assignment z-shell">subcmds</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>c:description for c command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>d:description for d command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-variable z-other z-readwrite z-assignment z-shell">topics</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>e:description for e help topic<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>f:description for f help topic<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_describe</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>command<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> subcmds<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> topics</span>
</span><span class="z-source z-shell z-bash">
</span></code></pre><p>如果两个候选人有相同的描述，<code>_describe</code> 将它们收集在同一行中，并确保描述在列中整齐对齐。<code>_describe</code> 函数可以在 <code>ACTION</code> 中用作 <code>_alternative</code>、<code>_arguments</code> 或 <code>_regex_arguments</code> 规范的一部分。在这种情况下，您必须将它的参数放在大括号中，例如 <code>'TAG:DESCRIPTION:{_describe 'values' options}'</code><h3 id=shi-yong-alternative-bian-xie-wan-cheng-han-shu><a aria-label="Anchor link for: shi-yong-alternative-bian-xie-wan-cheng-han-shu" class="header-anchor no-hover-padding" href=#shi-yong-alternative-bian-xie-wan-cheng-han-shu><span aria-hidden=true class=link-icon></span></a> 使用 _alternative 编写完成函数</h3><p>与 <code>_describe</code> 一样，此函数执行简单的补全，其中选项/参数的顺序和位置并不重要。然而，与 _describe 不同的是，可以调用其他函数而不是固定匹配来生成完成候选。此外，_alternative 允许混合不同类型的完成候选。<p>作为参数，它采用 <code>'TAG:DESCRIPTION:ACTION'</code> 形式的规范列表，其中 TAG 是标识完成匹配类型的特殊标签，DESCRIPTION 用作标题来共同描述完成候选组，而 ACTION是前面列出的动作类型之一（除了 <code>->STRING</code> 和 <code>=ACTION</code> 形式）。例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_alternative</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>arguments:custom arg:(a b c)<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>files:filename:_files<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>第一个规范添加完成候选 a、b 和 c，第二个规范调用 <code>_files</code> 函数来完成文件路径。<p>我们可以用 <code>\</code> 将规范分成几行，并为每个自定义参数添加描述，如下所示：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_alternative</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>args:custom arg:((a\:"description a" b\:"description b" c\:"description c"))<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>files:filename:_files<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>如果我们想将参数传递给 <code>_files</code>，它们可以简单地包含在内，如下所示：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_alternative</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>args:custom arg:((a\:"description a" b\:"description b" c\:"description c"))<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>files:filename:_files -/<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>要使用参数扩展来创建我们的完成列表，我们必须使用双引号来引用规范，例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_alternative</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>dirs:user directory:(<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">userdirs</span></span>)<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>pids:process ID:(<span class="z-meta z-group z-expansion z-command z-parens z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ps</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>A</span> o pid=</span><span class="z-punctuation z-section z-parens z-end z-shell">)</span></span>)<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span></span>
</span></code></pre><p>在这种情况下，第一个规范添加存储在 <code>$userdirs</code> 变量中的单词，第二个规范评估 <code>'ps -A o pid='</code> 以获取用作完成候选的 pid 列表。在实践中，我们会为此使用现有的 <code>_pids</code> 函数。<p>我们可以使用其他实用函数，例如 ACTION 中的 <code>_values</code> 来执行更复杂的完成，例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_alternative</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span>directories:user directory:(<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">userdirs</span></span>)<span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>options:comma-separated opt: _values -s , letter a b c<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash">
</span></code></pre><p>这将完成 <code>$userdirs</code> 中的项目，以及包含 <code>a, b &/or c</code> 的逗号分隔列表。注意 <code>_values</code> 之前的初始空格的使用。这是必需的，因为 <code>_values</code> 不理解用于描述的标准 compadd 选项。<p>与 <code>_describe</code> 一样，<code>_alternative</code> 函数本身可以作为 <code>_arguments</code> 或 <code>_regex_arguments</code> 规范的一部分在 <code>ACTION</code> 中使用。<h3 id=shi-yong-arguments-bian-xie-wan-cheng-han-shu><a aria-label="Anchor link for: shi-yong-arguments-bian-xie-wan-cheng-han-shu" class="header-anchor no-hover-padding" href=#shi-yong-arguments-bian-xie-wan-cheng-han-shu><span aria-hidden=true class=link-icon></span></a> 使用 _arguments 编写完成函数</h3><p>通过对 _arguments 函数的一次调用，您可以创建相当复杂的完成函数。它旨在处理带有各种选项和一些普通参数的典型命令。与 _alternative 函数一样，_arguments 将规范字符串列表作为参数。这些规范字符串指定选项和任何相应的选项参数（例如 -f 文件名）或命令参数。<p>基本选项规范采用 <code>'-OPT[DESCRIPTION]'</code> 的形式，例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> sort output: 排序输出</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> long output: 长输出</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_arguments</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-s[sort output]<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>--l[long output]<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-l[long output]<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>可以在 <code>'-OPT[DESCRIPTION]:MESSAGE:ACTION'</code> 形式的选项描述之后指定选项的参数，其中 MESSAGE 是要显示的消息，而 ACTION 可以是上面 ACTIONS 部分中提到的任何形式。例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_arguments</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-f[input file]:filename:_files<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>命令参数规范采用 <code>'N:MESSAGE:ACTION'</code> 形式，其中 <code>N</code> 表示它是第 <code>N</code> 个命令参数，而 <code>MESSAGE & ACTION</code> 和以前一样。如果省略 N，则它仅表示下一个命令参数（在任何已指定的参数之后）。如果在开头（在 <code>N</code> 之后）使用 <em>双冒号</em>，则该参数是可选的。例如：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_arguments</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-s[sort output]<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>1:first arg:_net_interfaces<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>::optional arg:_files<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>:next arg:(a b c)<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>这里第一个 arg 是网络接口，下一个可选 <code>arg</code> 是文件名，最后一个 <code>arg</code> 可以是 a、b 或 c，并且 <code>-s</code> 选项可以在任何位置完成。<p><code>_arguments</code> 函数允许使用上面 <code>ACTION</code> 部分中列出的全套 ACTION 表单。这意味着您可以使用操作来选择 <code>case</code> 语句分支，如下所示：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_arguments</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-m[music file]:filename:->files<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>-f[flags]:flag:->flags<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-shell"><span class="z-keyword z-control z-conditional z-case z-shell">case</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">"</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">state</span></span><span class="z-punctuation z-definition z-string z-end z-shell">"</span></span> <span class="z-keyword z-control z-in z-shell">in</span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-shell">    </span><span class="z-meta z-conditional z-case z-clause z-patterns z-shell">files<span class="z-meta z-conditional z-case z-shell"><span class="z-keyword z-control z-conditional z-patterns z-end z-shell">)</span></span></span><span class="z-meta z-conditional z-case z-clause z-commands z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell"><span class="z-meta z-function-call z-shell">        <span class="z-storage z-modifier z-shell">local</span> <span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">-</span>a</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">music_files</span></span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell">        <span class="z-variable z-other z-readwrite z-assignment z-shell">music_files</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span> Music/<span class="z-keyword z-operator z-regexp z-quantifier z-shell">*</span><span class="z-keyword z-operator z-regexp z-quantifier z-shell">*</span>/<span class="z-keyword z-operator z-regexp z-quantifier z-shell">*</span>.<span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>mp3<span class="z-punctuation z-separator z-shell">,</span>wav<span class="z-punctuation z-separator z-shell">,</span>flac<span class="z-punctuation z-separator z-shell">,</span>ogg<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span> <span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell">        <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_multi_parts</span></span><span class="z-meta z-function-call z-arguments z-shell"> / music_files</span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell">        </span><span class="z-meta z-conditional z-case z-clause z-commands z-shell"><span class="z-punctuation z-terminator z-case z-clause z-shell">;;</span></span><span class="z-meta z-conditional z-case z-clause z-patterns z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-patterns z-shell">    </span><span class="z-meta z-conditional z-case z-clause z-patterns z-shell">flags<span class="z-meta z-conditional z-case z-clause z-patterns z-shell"><span class="z-keyword z-control z-conditional z-patterns z-end z-shell">)</span></span></span><span class="z-meta z-conditional z-case z-clause z-commands z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell">        <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_values</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>s</span> , <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>flags<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span> a b c d e</span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-commands z-shell">        </span><span class="z-meta z-conditional z-case z-clause z-commands z-shell"><span class="z-punctuation z-terminator z-case z-clause z-shell">;;</span></span><span class="z-meta z-conditional z-case z-clause z-patterns z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-conditional z-case z-clause z-patterns z-shell"><span class="z-keyword z-control z-conditional z-end z-shell">esac</span></span>
</span></code></pre><p>在这种情况下，音乐文件(music_files)的路径使用 <code>_multi_parts</code> 函数逐步降序完成，标志使用 <code>_values</code> 函数作为逗号分隔的列表完成。<p>我这里刚刚给你介绍了 <code>_arguments</code> 规范的基础知识，你还可以指定互斥选项、重复选项&参数、以+开头的选项而不是-等，更多细节参见<a rel="noopener nofollow noreferrer" class=external href=http://zsh.sourceforge.net/Doc/Release/Completion-System.html#Completion-System target=_blank>官方文档</a>。 另请查看本文档末尾提到的教程，以及<a rel="noopener nofollow noreferrer" class=external href=https://github.com/vapniks/zsh-completions/tree/master/src target=_blank>src 目录</a>中的完成功能。<h2 id=ce-shi-yu-diao-shi><a aria-label="Anchor link for: ce-shi-yu-diao-shi" class="header-anchor no-hover-padding" href=#ce-shi-yu-diao-shi><span aria-hidden=true class=link-icon></span></a> 测试与调试</h2><p>要重新加载完成功能：<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> unfunction <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">_func</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">></span> autoload <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">-U</span></span><span class="z-meta z-function-call z-arguments z-shell"> _func</span>
</span></code></pre><p>可以调用以下函数来获取有用的信息。如果默认键绑定不起作用，您可以尝试按 <code>Alt+x</code>，然后输入命令名称。<table><thead><tr><th>功能<th>默认键绑定<th>描述<tbody><tr><td><code>_complete_help</code><td><code>Ctrl+xh</code><td>显示有关在当前光标位置完成时使用的上下文名称、标签和完成函数的信息<tr><td><code>_complete_help</code><td><code>Alt+2 Ctrl+xh</code><td>如上所述，但显示更多信息<tr><td><code>_complete_debug</code><td><code>Ctrl+x ?</code><td>执行普通完成，但在临时文件中捕获完成系统执行的 shell 命令的跟踪</table><h2 id=xian-jing-zhu-yi-shi-xiang><a aria-label="Anchor link for: xian-jing-zhu-yi-shi-xiang" class="header-anchor no-hover-padding" href=#xian-jing-zhu-yi-shi-xiang><span aria-hidden=true class=link-icon></span></a> 陷阱（注意事项）</h2><p>请记住在包含完成函数的文件的开头包含 <code>#compdef</code> 行。<p>注意对 <code>_arguments</code> 或 <code>_regex_arguments</code> 的规范使用正确的引用类型：如果规范中存在需要扩展的参数，请使用双引号，否则使用单引号，并确保在项目描述周围使用不同的引号。<p>检查您在 <code>_arguments</code> 、<code>_alternative</code> 、 <code>_regex_arguments</code> 等规范的正确位置是否有正确数量的 <code>:</code>。<p>记住在使用 <code>_regex_arguments</code> 时包含一个初始模式来匹配命令词（它不需要匹配操作）。<p>请记住在 <code>_regex_arguments</code> 的任何 <code>PATTERN</code> 参数的末尾放置一个空字符 <code>$'\0'</code><h2 id=ti-shi><a aria-label="Anchor link for: ti-shi" class="header-anchor no-hover-padding" href=#ti-shi><span aria-hidden=true class=link-icon></span></a> 提示</h2><p>有时你会遇到这样的情况，在子命令之后只有一个选项，当在子命令之后按下 tab 时，zsh 会自动完成这个。相反，如果您希望在完成之前将其与其描述一起列出，您可以向 <code>ACTION</code> 添加另一个空选项（即 <code>\:</code>），如下所示 <code>':TAG:DESCRIPTION:((opt1\:”description for opt1” \:))'</code> 请注意这一点仅适用于在其规范参数（<code>_arguments</code>、<code>_regex_arguments</code> 等）中使用 <code>ACTION</code> 的实用程序函数<blockquote><p>本文翻译自 <a rel="noopener nofollow noreferrer" class=external href=https://github.com/zsh-users/zsh-completions/blob/master/zsh-completions-howto.org target=_blank>zsh-users/zsh-completions</a></blockquote><blockquote><p>TIP: 更完整的翻译文章参看 http://chuquan.me/2020/10/02/zsh-completion-tutorial/</blockquote></section></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=button for=toc-toggle id=toc-button title=切换目录><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#zsh-zi-dong-bu-quan-jiao-ben-bian-xie>ZSH 自动补全脚本编写</a> <ul><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#bian-xie-zi-ji-de-wan-cheng-han-shu>编写自己的完成函数</a> <ul><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#shi-yong-gong-neng>实用功能</a><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#shi-yong-describe-bian-xie-jian-dan-de-wan-cheng-han-shu>使用 _describe 编写简单的完成函数</a><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#shi-yong-alternative-bian-xie-wan-cheng-han-shu>使用 _alternative 编写完成函数</a><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#shi-yong-arguments-bian-xie-wan-cheng-han-shu>使用 _arguments 编写完成函数</a></ul><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#ce-shi-yu-diao-shi>测试与调试</a><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#xian-jing-zhu-yi-shi-xiang>陷阱（注意事项）</a><li><a href=https://inhere.github.io/blog/2021/07-28-zsh-completions-howto/#ti-shi>提示</a></ul></ul></div></div></div><a class=no-hover-padding href=# id=top-button title=返回页面顶部> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> 已复制! </span><span class=hidden id=copy-init> 复制代码到剪贴板 </span><script defer src=https://inhere.github.io/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://inhere.github.io/atom.xml target=_blank> <img alt=feed loading=lazy src=https://inhere.github.io/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer me" href=https://github.com/inhere/ target=_blank> <img alt=github loading=lazy src=https://inhere.github.io/social_icons/github.svg title=github> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/pages/about> 🐶 About </a><li><a class="nav-links no-hover-padding" href=https://github.com/gookit> 🐱 Gookit </a><li><a class="nav-links no-hover-padding" href=https://github.com/phppkg> 🐱 PHPPkg </a><li><a class="nav-links no-hover-padding" href=https://inhere.github.io/sitemap.xml> 📄 Sitemap </a></ul> </small></nav><div class=credits><small> 网站基于 <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> 和 <a rel="noopener noreferrer" href=https://github.com/welpo/tabi target=_blank>tabi</a> • <a rel="noopener noreferrer" href=https://github.com/inhere/inhere.github.io target=_blank> 查看原始码 </a></small></div></section></footer>